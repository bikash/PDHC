2015-10-27 07:26:10,784 INFO  zookeeper.PortAssignment (PortAssignment.java:unique(32)) - assigning port 11221
2015-10-27 07:26:10,804 INFO  zookeeper.ZKTestCase (ZKTestCase.java:starting(50)) - STARTING testHandleSessionExpiration
2015-10-27 07:26:10,812 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:startServer(437)) - STARTING server
2015-10-27 07:26:10,873 INFO  server.ZooKeeperServer (Environment.java:logEnv(100)) - Server environment:zookeeper.version=3.4.6-1569965, built on 02/20/2014 09:09 GMT
2015-10-27 07:26:10,873 INFO  server.ZooKeeperServer (Environment.java:logEnv(100)) - Server environment:host.name=bikash.netgear.com
2015-10-27 07:26:10,873 INFO  server.ZooKeeperServer (Environment.java:logEnv(100)) - Server environment:java.version=1.7.0_75
2015-10-27 07:26:10,874 INFO  server.ZooKeeperServer (Environment.java:logEnv(100)) - Server environment:java.vendor=Oracle Corporation
2015-10-27 07:26:10,874 INFO  server.ZooKeeperServer (Environment.java:logEnv(100)) - Server environment:java.home=/Library/Java/JavaVirtualMachines/jdk1.7.0_75.jdk/Contents/Home/jre
2015-10-27 07:26:10,874 INFO  server.ZooKeeperServer (Environment.java:logEnv(100)) - Server environment:java.class.path=/Users/bikash/repos/bigdata/PDHC/lib/hadoop-2.6.0-src/hadoop-common-project/hadoop-common/target/test-classes:/Users/bikash/repos/bigdata/PDHC/lib/hadoop-2.6.0-src/hadoop-common-project/hadoop-common/target/classes:/Users/bikash/repos/bigdata/PDHC/lib/hadoop-2.6.0-src/hadoop-common-project/hadoop-annotations/target/hadoop-annotations-2.6.0.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_75.jdk/Contents/Home/jre/../lib/tools.jar:/Users/bikash/.m2/repository/com/google/guava/guava/11.0.2/guava-11.0.2.jar:/Users/bikash/.m2/repository/commons-cli/commons-cli/1.2/commons-cli-1.2.jar:/Users/bikash/.m2/repository/org/apache/commons/commons-math3/3.1.1/commons-math3-3.1.1.jar:/Users/bikash/.m2/repository/xmlenc/xmlenc/0.52/xmlenc-0.52.jar:/Users/bikash/.m2/repository/commons-httpclient/commons-httpclient/3.1/commons-httpclient-3.1.jar:/Users/bikash/.m2/repository/commons-codec/commons-codec/1.4/commons-codec-1.4.jar:/Users/bikash/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar:/Users/bikash/.m2/repository/commons-net/commons-net/3.1/commons-net-3.1.jar:/Users/bikash/.m2/repository/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar:/Users/bikash/.m2/repository/javax/servlet/servlet-api/2.5/servlet-api-2.5.jar:/Users/bikash/.m2/repository/org/mortbay/jetty/jetty/6.1.26/jetty-6.1.26.jar:/Users/bikash/.m2/repository/org/mortbay/jetty/jetty-util/6.1.26/jetty-util-6.1.26.jar:/Users/bikash/.m2/repository/com/sun/jersey/jersey-core/1.9/jersey-core-1.9.jar:/Users/bikash/.m2/repository/com/sun/jersey/jersey-json/1.9/jersey-json-1.9.jar:/Users/bikash/.m2/repository/org/codehaus/jettison/jettison/1.1/jettison-1.1.jar:/Users/bikash/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb-impl-2.2.3-1.jar:/Users/bikash/.m2/repository/javax/xml/bind/jaxb-api/2.2.2/jaxb-api-2.2.2.jar:/Users/bikash/.m2/repository/javax/xml/stream/stax-api/1.0-2/stax-api-1.0-2.jar:/Users/bikash/.m2/repository/javax/activation/activation/1.1/activation-1.1.jar:/Users/bikash/.m2/repository/org/codehaus/jackson/jackson-jaxrs/1.9.13/jackson-jaxrs-1.9.13.jar:/Users/bikash/.m2/repository/org/codehaus/jackson/jackson-xc/1.9.13/jackson-xc-1.9.13.jar:/Users/bikash/.m2/repository/com/sun/jersey/jersey-server/1.9/jersey-server-1.9.jar:/Users/bikash/.m2/repository/asm/asm/3.2/asm-3.2.jar:/Users/bikash/.m2/repository/tomcat/jasper-compiler/5.5.23/jasper-compiler-5.5.23.jar:/Users/bikash/.m2/repository/tomcat/jasper-runtime/5.5.23/jasper-runtime-5.5.23.jar:/Users/bikash/.m2/repository/javax/servlet/jsp/jsp-api/2.1/jsp-api-2.1.jar:/Users/bikash/.m2/repository/commons-el/commons-el/1.0/commons-el-1.0.jar:/Users/bikash/.m2/repository/commons-logging/commons-logging/1.1.3/commons-logging-1.1.3.jar:/Users/bikash/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/Users/bikash/.m2/repository/net/java/dev/jets3t/jets3t/0.9.0/jets3t-0.9.0.jar:/Users/bikash/.m2/repository/org/apache/httpcomponents/httpclient/4.2.5/httpclient-4.2.5.jar:/Users/bikash/.m2/repository/org/apache/httpcomponents/httpcore/4.2.5/httpcore-4.2.5.jar:/Users/bikash/.m2/repository/com/jamesmurty/utils/java-xmlbuilder/0.4/java-xmlbuilder-0.4.jar:/Users/bikash/.m2/repository/junit/junit/4.11/junit-4.11.jar:/Users/bikash/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/Users/bikash/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/Users/bikash/.m2/repository/commons-configuration/commons-configuration/1.6/commons-configuration-1.6.jar:/Users/bikash/.m2/repository/commons-digester/commons-digester/1.8/commons-digester-1.8.jar:/Users/bikash/.m2/repository/commons-beanutils/commons-beanutils/1.7.0/commons-beanutils-1.7.0.jar:/Users/bikash/.m2/repository/commons-beanutils/commons-beanutils-core/1.8.0/commons-beanutils-core-1.8.0.jar:/Users/bikash/.m2/repository/org/slf4j/slf4j-api/1.7.5/slf4j-api-1.7.5.jar:/Users/bikash/.m2/repository/org/slf4j/slf4j-log4j12/1.7.5/slf4j-log4j12-1.7.5.jar:/Users/bikash/.m2/repository/org/codehaus/jackson/jackson-core-asl/1.9.13/jackson-core-asl-1.9.13.jar:/Users/bikash/.m2/repository/org/codehaus/jackson/jackson-mapper-asl/1.9.13/jackson-mapper-asl-1.9.13.jar:/Users/bikash/.m2/repository/org/mockito/mockito-all/1.8.5/mockito-all-1.8.5.jar:/Users/bikash/.m2/repository/org/apache/avro/avro/1.7.4/avro-1.7.4.jar:/Users/bikash/.m2/repository/com/thoughtworks/paranamer/paranamer/2.3/paranamer-2.3.jar:/Users/bikash/.m2/repository/org/xerial/snappy/snappy-java/1.0.4.1/snappy-java-1.0.4.1.jar:/Users/bikash/.m2/repository/org/apache/ant/ant/1.8.1/ant-1.8.1.jar:/Users/bikash/.m2/repository/org/apache/ant/ant-launcher/1.8.1/ant-launcher-1.8.1.jar:/Users/bikash/.m2/repository/com/google/protobuf/protobuf-java/2.5.0/protobuf-java-2.5.0.jar:/Users/bikash/.m2/repository/com/google/code/gson/gson/2.2.4/gson-2.2.4.jar:/Users/bikash/repos/bigdata/PDHC/lib/hadoop-2.6.0-src/hadoop-common-project/hadoop-auth/target/hadoop-auth-2.6.0.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-kerberos-codec/2.0.0-M15/apacheds-kerberos-codec-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-i18n/2.0.0-M15/apacheds-i18n-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-asn1-api/1.0.0-M20/api-asn1-api-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-util/1.0.0-M20/api-util-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/curator/curator-framework/2.6.0/curator-framework-2.6.0.jar:/Users/bikash/repos/bigdata/PDHC/lib/hadoop-2.6.0-src/hadoop-common-project/hadoop-auth/target/hadoop-auth-2.6.0-tests.jar:/Users/bikash/repos/bigdata/PDHC/lib/hadoop-2.6.0-src/hadoop-common-project/hadoop-minikdc/target/hadoop-minikdc-2.6.0.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-core-api/2.0.0-M15/apacheds-core-api-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-core-constants/2.0.0-M15/apacheds-core-constants-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-i18n/1.0.0-M20/api-i18n-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-ldap-client-api/1.0.0-M20/api-ldap-client-api-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-ldap-codec-core/1.0.0-M20/api-ldap-codec-core-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-ldap-extras-aci/1.0.0-M20/api-ldap-extras-aci-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-ldap-extras-util/1.0.0-M20/api-ldap-extras-util-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-ldap-model/1.0.0-M20/api-ldap-model-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/mina/mina-core/2.0.0-M5/mina-core-2.0.0-M5.jar:/Users/bikash/.m2/repository/net/sf/ehcache/ehcache-core/2.4.4/ehcache-core-2.4.4.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptor-kerberos/2.0.0-M15/apacheds-interceptor-kerberos-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-core/2.0.0-M15/apacheds-core-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-admin/2.0.0-M15/apacheds-interceptors-admin-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-authn/2.0.0-M15/apacheds-interceptors-authn-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-authz/2.0.0-M15/apacheds-interceptors-authz-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-changelog/2.0.0-M15/apacheds-interceptors-changelog-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-collective/2.0.0-M15/apacheds-interceptors-collective-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-event/2.0.0-M15/apacheds-interceptors-event-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-exception/2.0.0-M15/apacheds-interceptors-exception-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-journal/2.0.0-M15/apacheds-interceptors-journal-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-normalization/2.0.0-M15/apacheds-interceptors-normalization-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-operational/2.0.0-M15/apacheds-interceptors-operational-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-referral/2.0.0-M15/apacheds-interceptors-referral-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-schema/2.0.0-M15/apacheds-interceptors-schema-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-subtree/2.0.0-M15/apacheds-interceptors-subtree-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-trigger/2.0.0-M15/apacheds-interceptors-trigger-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-ldap-extras-trigger/1.0.0-M20/api-ldap-extras-trigger-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-protocol-shared/2.0.0-M15/apacheds-protocol-shared-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-protocol-kerberos/2.0.0-M15/apacheds-protocol-kerberos-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-core-shared/2.0.0-M15/apacheds-core-shared-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-ldif-partition/2.0.0-M15/apacheds-ldif-partition-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-xdbm-partition/2.0.0-M15/apacheds-xdbm-partition-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-mavibot-partition/2.0.0-M15/apacheds-mavibot-partition-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/mavibot/mavibot/1.0.0-M1/mavibot-1.0.0-M1.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-core-avl/2.0.0-M15/apacheds-core-avl-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-all/1.0.0-M20/api-all-1.0.0-M20.jar:/Users/bikash/.m2/repository/commons-pool/commons-pool/1.6/commons-pool-1.6.jar:/Users/bikash/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-jdbm-partition/2.0.0-M15/apacheds-jdbm-partition-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/jdbm/apacheds-jdbm1/2.0.0-M2/apacheds-jdbm1-2.0.0-M2.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-protocol-ldap/2.0.0-M15/apacheds-protocol-ldap-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-asn1-ber/1.0.0-M20/api-asn1-ber-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-ldap-extras-codec-api/1.0.0-M20/api-ldap-extras-codec-api-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-ldap-extras-codec/1.0.0-M20/api-ldap-extras-codec-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-ldap-extras-sp/1.0.0-M20/api-ldap-extras-sp-1.0.0-M20.jar:/Users/bikash/.m2/repository/bouncycastle/bcprov-jdk15/140/bcprov-jdk15-140.jar:/Users/bikash/.m2/repository/com/jcraft/jsch/0.1.42/jsch-0.1.42.jar:/Users/bikash/.m2/repository/org/apache/curator/curator-test/2.6.0/curator-test-2.6.0.jar:/Users/bikash/.m2/repository/org/javassist/javassist/3.18.1-GA/javassist-3.18.1-GA.jar:/Users/bikash/.m2/repository/org/apache/commons/commons-math/2.2/commons-math-2.2.jar:/Users/bikash/.m2/repository/org/apache/curator/curator-client/2.6.0/curator-client-2.6.0.jar:/Users/bikash/.m2/repository/org/apache/curator/curator-recipes/2.6.0/curator-recipes-2.6.0.jar:/Users/bikash/.m2/repository/com/google/code/findbugs/jsr305/1.3.9/jsr305-1.3.9.jar:/Users/bikash/.m2/repository/org/htrace/htrace-core/3.0.4/htrace-core-3.0.4.jar:/Users/bikash/.m2/repository/org/apache/zookeeper/zookeeper/3.4.6/zookeeper-3.4.6.jar:/Users/bikash/.m2/repository/io/netty/netty/3.6.2.Final/netty-3.6.2.Final.jar:/Users/bikash/.m2/repository/org/apache/zookeeper/zookeeper/3.4.6/zookeeper-3.4.6-tests.jar:/Users/bikash/.m2/repository/jline/jline/0.9.94/jline-0.9.94.jar:/Users/bikash/.m2/repository/org/apache/commons/commons-compress/1.4.1/commons-compress-1.4.1.jar:/Users/bikash/.m2/repository/org/tukaani/xz/1.0/xz-1.0.jar:
2015-10-27 07:26:10,875 INFO  server.ZooKeeperServer (Environment.java:logEnv(100)) - Server environment:java.library.path=/Users/bikash/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.
2015-10-27 07:26:10,876 INFO  server.ZooKeeperServer (Environment.java:logEnv(100)) - Server environment:java.io.tmpdir=/var/folders/j3/bdpymcq1045gxk1mdtp_myvw0000gn/T/
2015-10-27 07:26:10,876 INFO  server.ZooKeeperServer (Environment.java:logEnv(100)) - Server environment:java.compiler=<NA>
2015-10-27 07:26:10,876 INFO  server.ZooKeeperServer (Environment.java:logEnv(100)) - Server environment:os.name=Mac OS X
2015-10-27 07:26:10,877 INFO  server.ZooKeeperServer (Environment.java:logEnv(100)) - Server environment:os.arch=x86_64
2015-10-27 07:26:10,877 INFO  server.ZooKeeperServer (Environment.java:logEnv(100)) - Server environment:os.version=10.9.5
2015-10-27 07:26:10,877 INFO  server.ZooKeeperServer (Environment.java:logEnv(100)) - Server environment:user.name=bikash
2015-10-27 07:26:10,922 INFO  server.ZooKeeperServer (Environment.java:logEnv(100)) - Server environment:user.home=/Users/bikash
2015-10-27 07:26:10,923 INFO  server.ZooKeeperServer (Environment.java:logEnv(100)) - Server environment:user.dir=/Users/bikash/repos/bigdata/PDHC/lib/hadoop-2.6.0-src/hadoop-common-project/hadoop-common
2015-10-27 07:26:10,954 INFO  server.ZooKeeperServer (ZooKeeperServer.java:<init>(162)) - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 datadir build/test202372656539259875.junit.dir/version-2 snapdir build/test202372656539259875.junit.dir/version-2
2015-10-27 07:26:11,004 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:configure(94)) - binding to port 0.0.0.0/0.0.0.0:11221
2015-10-27 07:26:11,283 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:send4LetterWord(234)) - connecting to 127.0.0.1 11221
2015-10-27 07:26:11,291 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54336
2015-10-27 07:26:11,312 INFO  server.NIOServerCnxn (NIOServerCnxn.java:checkFourLetterWord(827)) - Processing stat command from /127.0.0.1:54336
2015-10-27 07:26:11,317 INFO  server.NIOServerCnxn (NIOServerCnxn.java:commandRun(663)) - Stat command output
2015-10-27 07:26:11,318 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54336 (no session established for client)
2015-10-27 07:26:11,324 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:setUp(404)) - Client test setup finished
2015-10-27 07:26:11,936 INFO  zookeeper.ZooKeeper (Environment.java:logEnv(100)) - Client environment:zookeeper.version=3.4.6-1569965, built on 02/20/2014 09:09 GMT
2015-10-27 07:26:11,937 INFO  zookeeper.ZooKeeper (Environment.java:logEnv(100)) - Client environment:host.name=bikash.netgear.com
2015-10-27 07:26:11,937 INFO  zookeeper.ZooKeeper (Environment.java:logEnv(100)) - Client environment:java.version=1.7.0_75
2015-10-27 07:26:11,938 INFO  zookeeper.ZooKeeper (Environment.java:logEnv(100)) - Client environment:java.vendor=Oracle Corporation
2015-10-27 07:26:11,938 INFO  zookeeper.ZooKeeper (Environment.java:logEnv(100)) - Client environment:java.home=/Library/Java/JavaVirtualMachines/jdk1.7.0_75.jdk/Contents/Home/jre
2015-10-27 07:26:11,938 INFO  zookeeper.ZooKeeper (Environment.java:logEnv(100)) - Client environment:java.class.path=/Users/bikash/repos/bigdata/PDHC/lib/hadoop-2.6.0-src/hadoop-common-project/hadoop-common/target/test-classes:/Users/bikash/repos/bigdata/PDHC/lib/hadoop-2.6.0-src/hadoop-common-project/hadoop-common/target/classes:/Users/bikash/repos/bigdata/PDHC/lib/hadoop-2.6.0-src/hadoop-common-project/hadoop-annotations/target/hadoop-annotations-2.6.0.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_75.jdk/Contents/Home/jre/../lib/tools.jar:/Users/bikash/.m2/repository/com/google/guava/guava/11.0.2/guava-11.0.2.jar:/Users/bikash/.m2/repository/commons-cli/commons-cli/1.2/commons-cli-1.2.jar:/Users/bikash/.m2/repository/org/apache/commons/commons-math3/3.1.1/commons-math3-3.1.1.jar:/Users/bikash/.m2/repository/xmlenc/xmlenc/0.52/xmlenc-0.52.jar:/Users/bikash/.m2/repository/commons-httpclient/commons-httpclient/3.1/commons-httpclient-3.1.jar:/Users/bikash/.m2/repository/commons-codec/commons-codec/1.4/commons-codec-1.4.jar:/Users/bikash/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar:/Users/bikash/.m2/repository/commons-net/commons-net/3.1/commons-net-3.1.jar:/Users/bikash/.m2/repository/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar:/Users/bikash/.m2/repository/javax/servlet/servlet-api/2.5/servlet-api-2.5.jar:/Users/bikash/.m2/repository/org/mortbay/jetty/jetty/6.1.26/jetty-6.1.26.jar:/Users/bikash/.m2/repository/org/mortbay/jetty/jetty-util/6.1.26/jetty-util-6.1.26.jar:/Users/bikash/.m2/repository/com/sun/jersey/jersey-core/1.9/jersey-core-1.9.jar:/Users/bikash/.m2/repository/com/sun/jersey/jersey-json/1.9/jersey-json-1.9.jar:/Users/bikash/.m2/repository/org/codehaus/jettison/jettison/1.1/jettison-1.1.jar:/Users/bikash/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb-impl-2.2.3-1.jar:/Users/bikash/.m2/repository/javax/xml/bind/jaxb-api/2.2.2/jaxb-api-2.2.2.jar:/Users/bikash/.m2/repository/javax/xml/stream/stax-api/1.0-2/stax-api-1.0-2.jar:/Users/bikash/.m2/repository/javax/activation/activation/1.1/activation-1.1.jar:/Users/bikash/.m2/repository/org/codehaus/jackson/jackson-jaxrs/1.9.13/jackson-jaxrs-1.9.13.jar:/Users/bikash/.m2/repository/org/codehaus/jackson/jackson-xc/1.9.13/jackson-xc-1.9.13.jar:/Users/bikash/.m2/repository/com/sun/jersey/jersey-server/1.9/jersey-server-1.9.jar:/Users/bikash/.m2/repository/asm/asm/3.2/asm-3.2.jar:/Users/bikash/.m2/repository/tomcat/jasper-compiler/5.5.23/jasper-compiler-5.5.23.jar:/Users/bikash/.m2/repository/tomcat/jasper-runtime/5.5.23/jasper-runtime-5.5.23.jar:/Users/bikash/.m2/repository/javax/servlet/jsp/jsp-api/2.1/jsp-api-2.1.jar:/Users/bikash/.m2/repository/commons-el/commons-el/1.0/commons-el-1.0.jar:/Users/bikash/.m2/repository/commons-logging/commons-logging/1.1.3/commons-logging-1.1.3.jar:/Users/bikash/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/Users/bikash/.m2/repository/net/java/dev/jets3t/jets3t/0.9.0/jets3t-0.9.0.jar:/Users/bikash/.m2/repository/org/apache/httpcomponents/httpclient/4.2.5/httpclient-4.2.5.jar:/Users/bikash/.m2/repository/org/apache/httpcomponents/httpcore/4.2.5/httpcore-4.2.5.jar:/Users/bikash/.m2/repository/com/jamesmurty/utils/java-xmlbuilder/0.4/java-xmlbuilder-0.4.jar:/Users/bikash/.m2/repository/junit/junit/4.11/junit-4.11.jar:/Users/bikash/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/Users/bikash/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/Users/bikash/.m2/repository/commons-configuration/commons-configuration/1.6/commons-configuration-1.6.jar:/Users/bikash/.m2/repository/commons-digester/commons-digester/1.8/commons-digester-1.8.jar:/Users/bikash/.m2/repository/commons-beanutils/commons-beanutils/1.7.0/commons-beanutils-1.7.0.jar:/Users/bikash/.m2/repository/commons-beanutils/commons-beanutils-core/1.8.0/commons-beanutils-core-1.8.0.jar:/Users/bikash/.m2/repository/org/slf4j/slf4j-api/1.7.5/slf4j-api-1.7.5.jar:/Users/bikash/.m2/repository/org/slf4j/slf4j-log4j12/1.7.5/slf4j-log4j12-1.7.5.jar:/Users/bikash/.m2/repository/org/codehaus/jackson/jackson-core-asl/1.9.13/jackson-core-asl-1.9.13.jar:/Users/bikash/.m2/repository/org/codehaus/jackson/jackson-mapper-asl/1.9.13/jackson-mapper-asl-1.9.13.jar:/Users/bikash/.m2/repository/org/mockito/mockito-all/1.8.5/mockito-all-1.8.5.jar:/Users/bikash/.m2/repository/org/apache/avro/avro/1.7.4/avro-1.7.4.jar:/Users/bikash/.m2/repository/com/thoughtworks/paranamer/paranamer/2.3/paranamer-2.3.jar:/Users/bikash/.m2/repository/org/xerial/snappy/snappy-java/1.0.4.1/snappy-java-1.0.4.1.jar:/Users/bikash/.m2/repository/org/apache/ant/ant/1.8.1/ant-1.8.1.jar:/Users/bikash/.m2/repository/org/apache/ant/ant-launcher/1.8.1/ant-launcher-1.8.1.jar:/Users/bikash/.m2/repository/com/google/protobuf/protobuf-java/2.5.0/protobuf-java-2.5.0.jar:/Users/bikash/.m2/repository/com/google/code/gson/gson/2.2.4/gson-2.2.4.jar:/Users/bikash/repos/bigdata/PDHC/lib/hadoop-2.6.0-src/hadoop-common-project/hadoop-auth/target/hadoop-auth-2.6.0.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-kerberos-codec/2.0.0-M15/apacheds-kerberos-codec-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-i18n/2.0.0-M15/apacheds-i18n-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-asn1-api/1.0.0-M20/api-asn1-api-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-util/1.0.0-M20/api-util-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/curator/curator-framework/2.6.0/curator-framework-2.6.0.jar:/Users/bikash/repos/bigdata/PDHC/lib/hadoop-2.6.0-src/hadoop-common-project/hadoop-auth/target/hadoop-auth-2.6.0-tests.jar:/Users/bikash/repos/bigdata/PDHC/lib/hadoop-2.6.0-src/hadoop-common-project/hadoop-minikdc/target/hadoop-minikdc-2.6.0.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-core-api/2.0.0-M15/apacheds-core-api-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-core-constants/2.0.0-M15/apacheds-core-constants-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-i18n/1.0.0-M20/api-i18n-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-ldap-client-api/1.0.0-M20/api-ldap-client-api-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-ldap-codec-core/1.0.0-M20/api-ldap-codec-core-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-ldap-extras-aci/1.0.0-M20/api-ldap-extras-aci-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-ldap-extras-util/1.0.0-M20/api-ldap-extras-util-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-ldap-model/1.0.0-M20/api-ldap-model-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/mina/mina-core/2.0.0-M5/mina-core-2.0.0-M5.jar:/Users/bikash/.m2/repository/net/sf/ehcache/ehcache-core/2.4.4/ehcache-core-2.4.4.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptor-kerberos/2.0.0-M15/apacheds-interceptor-kerberos-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-core/2.0.0-M15/apacheds-core-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-admin/2.0.0-M15/apacheds-interceptors-admin-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-authn/2.0.0-M15/apacheds-interceptors-authn-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-authz/2.0.0-M15/apacheds-interceptors-authz-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-changelog/2.0.0-M15/apacheds-interceptors-changelog-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-collective/2.0.0-M15/apacheds-interceptors-collective-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-event/2.0.0-M15/apacheds-interceptors-event-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-exception/2.0.0-M15/apacheds-interceptors-exception-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-journal/2.0.0-M15/apacheds-interceptors-journal-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-normalization/2.0.0-M15/apacheds-interceptors-normalization-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-operational/2.0.0-M15/apacheds-interceptors-operational-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-referral/2.0.0-M15/apacheds-interceptors-referral-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-schema/2.0.0-M15/apacheds-interceptors-schema-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-subtree/2.0.0-M15/apacheds-interceptors-subtree-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-interceptors-trigger/2.0.0-M15/apacheds-interceptors-trigger-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-ldap-extras-trigger/1.0.0-M20/api-ldap-extras-trigger-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-protocol-shared/2.0.0-M15/apacheds-protocol-shared-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-protocol-kerberos/2.0.0-M15/apacheds-protocol-kerberos-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-core-shared/2.0.0-M15/apacheds-core-shared-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-ldif-partition/2.0.0-M15/apacheds-ldif-partition-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-xdbm-partition/2.0.0-M15/apacheds-xdbm-partition-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-mavibot-partition/2.0.0-M15/apacheds-mavibot-partition-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/mavibot/mavibot/1.0.0-M1/mavibot-1.0.0-M1.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-core-avl/2.0.0-M15/apacheds-core-avl-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-all/1.0.0-M20/api-all-1.0.0-M20.jar:/Users/bikash/.m2/repository/commons-pool/commons-pool/1.6/commons-pool-1.6.jar:/Users/bikash/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-jdbm-partition/2.0.0-M15/apacheds-jdbm-partition-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/jdbm/apacheds-jdbm1/2.0.0-M2/apacheds-jdbm1-2.0.0-M2.jar:/Users/bikash/.m2/repository/org/apache/directory/server/apacheds-protocol-ldap/2.0.0-M15/apacheds-protocol-ldap-2.0.0-M15.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-asn1-ber/1.0.0-M20/api-asn1-ber-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-ldap-extras-codec-api/1.0.0-M20/api-ldap-extras-codec-api-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-ldap-extras-codec/1.0.0-M20/api-ldap-extras-codec-1.0.0-M20.jar:/Users/bikash/.m2/repository/org/apache/directory/api/api-ldap-extras-sp/1.0.0-M20/api-ldap-extras-sp-1.0.0-M20.jar:/Users/bikash/.m2/repository/bouncycastle/bcprov-jdk15/140/bcprov-jdk15-140.jar:/Users/bikash/.m2/repository/com/jcraft/jsch/0.1.42/jsch-0.1.42.jar:/Users/bikash/.m2/repository/org/apache/curator/curator-test/2.6.0/curator-test-2.6.0.jar:/Users/bikash/.m2/repository/org/javassist/javassist/3.18.1-GA/javassist-3.18.1-GA.jar:/Users/bikash/.m2/repository/org/apache/commons/commons-math/2.2/commons-math-2.2.jar:/Users/bikash/.m2/repository/org/apache/curator/curator-client/2.6.0/curator-client-2.6.0.jar:/Users/bikash/.m2/repository/org/apache/curator/curator-recipes/2.6.0/curator-recipes-2.6.0.jar:/Users/bikash/.m2/repository/com/google/code/findbugs/jsr305/1.3.9/jsr305-1.3.9.jar:/Users/bikash/.m2/repository/org/htrace/htrace-core/3.0.4/htrace-core-3.0.4.jar:/Users/bikash/.m2/repository/org/apache/zookeeper/zookeeper/3.4.6/zookeeper-3.4.6.jar:/Users/bikash/.m2/repository/io/netty/netty/3.6.2.Final/netty-3.6.2.Final.jar:/Users/bikash/.m2/repository/org/apache/zookeeper/zookeeper/3.4.6/zookeeper-3.4.6-tests.jar:/Users/bikash/.m2/repository/jline/jline/0.9.94/jline-0.9.94.jar:/Users/bikash/.m2/repository/org/apache/commons/commons-compress/1.4.1/commons-compress-1.4.1.jar:/Users/bikash/.m2/repository/org/tukaani/xz/1.0/xz-1.0.jar:
2015-10-27 07:26:11,938 INFO  zookeeper.ZooKeeper (Environment.java:logEnv(100)) - Client environment:java.library.path=/Users/bikash/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.
2015-10-27 07:26:11,939 INFO  zookeeper.ZooKeeper (Environment.java:logEnv(100)) - Client environment:java.io.tmpdir=/var/folders/j3/bdpymcq1045gxk1mdtp_myvw0000gn/T/
2015-10-27 07:26:11,939 INFO  zookeeper.ZooKeeper (Environment.java:logEnv(100)) - Client environment:java.compiler=<NA>
2015-10-27 07:26:11,939 INFO  zookeeper.ZooKeeper (Environment.java:logEnv(100)) - Client environment:os.name=Mac OS X
2015-10-27 07:26:11,939 INFO  zookeeper.ZooKeeper (Environment.java:logEnv(100)) - Client environment:os.arch=x86_64
2015-10-27 07:26:11,940 INFO  zookeeper.ZooKeeper (Environment.java:logEnv(100)) - Client environment:os.version=10.9.5
2015-10-27 07:26:11,940 INFO  zookeeper.ZooKeeper (Environment.java:logEnv(100)) - Client environment:user.name=bikash
2015-10-27 07:26:11,940 INFO  zookeeper.ZooKeeper (Environment.java:logEnv(100)) - Client environment:user.home=/Users/bikash
2015-10-27 07:26:11,940 INFO  zookeeper.ZooKeeper (Environment.java:logEnv(100)) - Client environment:user.dir=/Users/bikash/repos/bigdata/PDHC/lib/hadoop-2.6.0-src/hadoop-common-project/hadoop-common
2015-10-27 07:26:11,942 INFO  zookeeper.ZooKeeper (ZooKeeper.java:<init>(438)) - Initiating client connection, connectString=127.0.0.1:11221 sessionTimeout=5000 watcher=org.apache.hadoop.ha.ActiveStandbyElector$WatcherWithClientRef@4916f944
2015-10-27 07:26:12,003 INFO  zookeeper.ClientCnxn (ClientCnxn.java:logStartConnect(975)) - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-10-27 07:26:12,004 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54337
2015-10-27 07:26:12,004 INFO  zookeeper.ClientCnxn (ClientCnxn.java:primeConnection(852)) - Socket connection established to 127.0.0.1/127.0.0.1:11221, initiating session
2015-10-27 07:26:12,010 INFO  server.ZooKeeperServer (ZooKeeperServer.java:processConnectRequest(868)) - Client attempting to establish new session at /127.0.0.1:54337
2015-10-27 07:26:12,015 INFO  persistence.FileTxnLog (FileTxnLog.java:append(199)) - Creating new log file: log.1
2015-10-27 07:26:12,033 INFO  server.ZooKeeperServer (ZooKeeperServer.java:finishSessionInit(617)) - Established session 0x150a90c5c6b0000 with negotiated timeout 6000 for client /127.0.0.1:54337
2015-10-27 07:26:12,035 INFO  zookeeper.ClientCnxn (ClientCnxn.java:onConnected(1235)) - Session establishment complete on server 127.0.0.1/127.0.0.1:11221, sessionid = 0x150a90c5c6b0000, negotiated timeout = 6000
2015-10-27 07:26:12,038 WARN  ha.ActiveStandbyElector (ActiveStandbyElector.java:isStaleClient(1006)) - Ignoring stale result from old client with sessionId 0x150a90c5c6b0000
2015-10-27 07:26:12,055 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:createConnection(768)) - Created new connection for elector id=1072493930 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 1818098997
2015-10-27 07:26:12,055 INFO  zookeeper.ZooKeeper (ZooKeeper.java:<init>(438)) - Initiating client connection, connectString=127.0.0.1:11221 sessionTimeout=5000 watcher=org.apache.hadoop.ha.ActiveStandbyElector$WatcherWithClientRef@e9ada28
2015-10-27 07:26:12,057 INFO  zookeeper.ClientCnxn (ClientCnxn.java:logStartConnect(975)) - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-10-27 07:26:12,057 INFO  zookeeper.ClientCnxn (ClientCnxn.java:primeConnection(852)) - Socket connection established to 127.0.0.1/127.0.0.1:11221, initiating session
2015-10-27 07:26:12,058 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54338
2015-10-27 07:26:12,058 INFO  server.ZooKeeperServer (ZooKeeperServer.java:processConnectRequest(868)) - Client attempting to establish new session at /127.0.0.1:54338
2015-10-27 07:26:12,060 INFO  server.ZooKeeperServer (ZooKeeperServer.java:finishSessionInit(617)) - Established session 0x150a90c5c6b0001 with negotiated timeout 6000 for client /127.0.0.1:54338
2015-10-27 07:26:12,060 INFO  zookeeper.ClientCnxn (ClientCnxn.java:onConnected(1235)) - Session establishment complete on server 127.0.0.1/127.0.0.1:11221, sessionid = 0x150a90c5c6b0001, negotiated timeout = 6000
2015-10-27 07:26:12,061 WARN  ha.ActiveStandbyElector (ActiveStandbyElector.java:isStaleClient(1006)) - Ignoring stale result from old client with sessionId 0x150a90c5c6b0001
2015-10-27 07:26:12,063 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:createConnection(768)) - Created new connection for elector id=251791473 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 1316502121
2015-10-27 07:26:12,067 INFO  zookeeper.JUnit4ZKTestRunner (JUnit4ZKTestRunner.java:evaluate(50)) - RUNNING TEST METHOD testHandleSessionExpiration
2015-10-27 07:26:12,067 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:ensureParentZNode(295)) - Ensuring existence of /2692a353-9731-4ff3-9540-1b6daa570068
2015-10-27 07:26:12,088 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:ensureParentZNode(308)) - Successfully created /2692a353-9731-4ff3-9540-1b6daa570068 in ZK.
2015-10-27 07:26:12,113 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:joinElection(259)) - Attempting active election for elector id=1072493930 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1818098997
2015-10-27 07:26:12,121 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(409)) - CreateNode result: 0 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: TERMINATED  for elector id=1072493930 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1818098997
2015-10-27 07:26:12,121 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:fenceOldActive(877)) - Checking for any old active which needs to be fenced...
2015-10-27 07:26:12,125 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:fenceOldActive(887)) - No old node to fence
2015-10-27 07:26:12,125 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:writeBreadCrumbNode(824)) - Writing znode /2692a353-9731-4ff3-9540-1b6daa570068/ActiveBreadCrumb to indicate that the local node is the most recent active...
2015-10-27 07:26:12,128 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:becomeActive(804)) - Becoming active for elector id=1072493930 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1818098997
2015-10-27 07:26:12,129 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:monitorActiveStatus(649)) - Monitoring active leader for elector id=1072493930 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1818098997
2015-10-27 07:26:12,133 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(471)) - StatNode result: 0 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: TERMINATED for elector id=1072493930 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1818098997
2015-10-27 07:26:12,158 INFO  ha.ClientBaseWithFixes (TestActiveStandbyElectorRealZK.java:testHandleSessionExpiration(174)) - ========================== Expiring session
2015-10-27 07:26:12,158 INFO  server.ZooKeeperServer (ZooKeeperServer.java:closeSession(326)) - Closing session 0x150a90c5c6b0000
2015-10-27 07:26:12,158 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:pRequest2Txn(494)) - Processed session termination for sessionid: 0x150a90c5c6b0000
2015-10-27 07:26:12,161 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54337 which had sessionid 0x150a90c5c6b0000
2015-10-27 07:26:12,162 INFO  zookeeper.ClientCnxn (ClientCnxn.java:run(1098)) - Unable to read additional data from server sessionid 0x150a90c5c6b0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-10-27 07:26:12,162 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: NodeDeleted with state:SyncConnected for path:/2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: TERMINATED for elector id=1072493930 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1818098997
2015-10-27 07:26:12,163 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:enterNeutralMode(917)) - Entering neutral mode for elector id=1072493930 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1818098997
2015-10-27 07:26:12,265 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(409)) - CreateNode result: -4 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: TERMINATED  for elector id=1072493930 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1818098997
2015-10-27 07:26:12,266 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(440)) - Received create error from Zookeeper. code:CONNECTIONLOSS for path /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock
2015-10-27 07:26:12,266 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(444)) - Retrying createNode createRetryCount: 0
2015-10-27 07:26:12,267 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: None with state:Disconnected for path:null connectionState: TERMINATED for elector id=1072493930 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1818098997
2015-10-27 07:26:12,267 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(558)) - Session disconnected. Entering neutral mode...
2015-10-27 07:26:12,680 INFO  ha.ActiveStandbyElectorTestUtil (ActiveStandbyElectorTestUtil.java:waitForActiveLockData(64)) - Cur data: no node
2015-10-27 07:26:13,196 INFO  ha.ActiveStandbyElectorTestUtil (ActiveStandbyElectorTestUtil.java:waitForActiveLockData(64)) - Cur data: no node
2015-10-27 07:26:13,705 INFO  ha.ActiveStandbyElectorTestUtil (ActiveStandbyElectorTestUtil.java:waitForActiveLockData(64)) - Cur data: no node
2015-10-27 07:26:13,843 INFO  zookeeper.ClientCnxn (ClientCnxn.java:logStartConnect(975)) - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-10-27 07:26:13,843 INFO  zookeeper.ClientCnxn (ClientCnxn.java:primeConnection(852)) - Socket connection established to 127.0.0.1/127.0.0.1:11221, initiating session
2015-10-27 07:26:13,843 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54340
2015-10-27 07:26:13,844 INFO  server.ZooKeeperServer (ZooKeeperServer.java:processConnectRequest(861)) - Client attempting to renew session 0x150a90c5c6b0000 at /127.0.0.1:54340
2015-10-27 07:26:13,844 INFO  server.ZooKeeperServer (ZooKeeperServer.java:finishSessionInit(610)) - Invalid session 0x150a90c5c6b0000 for client /127.0.0.1:54340, probably expired
2015-10-27 07:26:13,845 INFO  zookeeper.ClientCnxn (ClientCnxn.java:run(1094)) - Unable to reconnect to ZooKeeper service, session 0x150a90c5c6b0000 has expired, closing socket connection
2015-10-27 07:26:13,845 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54340 which had sessionid 0x150a90c5c6b0000
2015-10-27 07:26:13,845 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: None with state:Expired for path:null connectionState: DISCONNECTED for elector id=1072493930 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1818098997
2015-10-27 07:26:13,845 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(568)) - Session expired. Entering neutral mode and rejoining...
2015-10-27 07:26:13,845 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:reJoinElection(670)) - Trying to re-establish ZK session
2015-10-27 07:26:13,846 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:terminateConnection(776)) - Terminating ZK connection for elector id=1072493930 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1818098997
2015-10-27 07:26:13,847 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:reEstablishSession(740)) - Establishing zookeeper connection for elector id=1072493930 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1818098997
2015-10-27 07:26:13,847 INFO  zookeeper.ZooKeeper (ZooKeeper.java:<init>(438)) - Initiating client connection, connectString=127.0.0.1:11221 sessionTimeout=5000 watcher=org.apache.hadoop.ha.ActiveStandbyElector$WatcherWithClientRef@1017e84b
2015-10-27 07:26:13,848 INFO  zookeeper.ClientCnxn (ClientCnxn.java:logStartConnect(975)) - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-10-27 07:26:13,848 INFO  zookeeper.ClientCnxn (ClientCnxn.java:primeConnection(852)) - Socket connection established to 127.0.0.1/127.0.0.1:11221, initiating session
2015-10-27 07:26:13,848 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54341
2015-10-27 07:26:13,849 INFO  server.ZooKeeperServer (ZooKeeperServer.java:processConnectRequest(868)) - Client attempting to establish new session at /127.0.0.1:54341
2015-10-27 07:26:13,859 INFO  server.ZooKeeperServer (ZooKeeperServer.java:finishSessionInit(617)) - Established session 0x150a90c5c6b0002 with negotiated timeout 6000 for client /127.0.0.1:54341
2015-10-27 07:26:13,859 INFO  zookeeper.ClientCnxn (ClientCnxn.java:onConnected(1235)) - Session establishment complete on server 127.0.0.1/127.0.0.1:11221, sessionid = 0x150a90c5c6b0002, negotiated timeout = 6000
2015-10-27 07:26:13,860 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:createConnection(768)) - Created new connection for elector id=1072493930 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1818098997
2015-10-27 07:26:13,861 INFO  zookeeper.ClientCnxn (ClientCnxn.java:run(512)) - EventThread shut down
2015-10-27 07:26:13,862 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: None with state:SyncConnected for path:null connectionState: TERMINATED for elector id=1072493930 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1818098997
2015-10-27 07:26:13,862 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(547)) - Session connected.
2015-10-27 07:26:13,863 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(409)) - CreateNode result: 0 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: CONNECTED  for elector id=1072493930 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1818098997
2015-10-27 07:26:13,863 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:fenceOldActive(877)) - Checking for any old active which needs to be fenced...
2015-10-27 07:26:13,865 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:fenceOldActive(898)) - Old node exists: 00000000
2015-10-27 07:26:13,865 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:fenceOldActive(900)) - But old node has our own data, so don't need to fence it.
2015-10-27 07:26:13,865 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:writeBreadCrumbNode(824)) - Writing znode /2692a353-9731-4ff3-9540-1b6daa570068/ActiveBreadCrumb to indicate that the local node is the most recent active...
2015-10-27 07:26:13,870 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:becomeActive(804)) - Becoming active for elector id=1072493930 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1818098997
2015-10-27 07:26:13,871 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:monitorActiveStatus(649)) - Monitoring active leader for elector id=1072493930 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1818098997
2015-10-27 07:26:13,872 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(471)) - StatNode result: 0 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: CONNECTED for elector id=1072493930 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1818098997
2015-10-27 07:26:13,911 INFO  ha.ClientBaseWithFixes (TestActiveStandbyElectorRealZK.java:testHandleSessionExpiration(186)) - ========================== Quitting election
2015-10-27 07:26:13,912 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:quitElection(354)) - Yielding from election
2015-10-27 07:26:13,912 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:tryDeleteOwnBreadCrumbNode(844)) - Deleting bread-crumb of active node...
2015-10-27 07:26:13,917 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:terminateConnection(776)) - Terminating ZK connection for elector id=1072493930 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1818098997
2015-10-27 07:26:13,917 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:pRequest2Txn(494)) - Processed session termination for sessionid: 0x150a90c5c6b0002
2015-10-27 07:26:13,918 INFO  zookeeper.ZooKeeper (ZooKeeper.java:close(684)) - Session: 0x150a90c5c6b0002 closed
2015-10-27 07:26:13,919 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54341 which had sessionid 0x150a90c5c6b0002
2015-10-27 07:26:13,919 WARN  ha.ActiveStandbyElector (ActiveStandbyElector.java:isStaleClient(1006)) - Ignoring stale result from old client with sessionId 0x150a90c5c6b0002
2015-10-27 07:26:13,919 INFO  zookeeper.ClientCnxn (ClientCnxn.java:run(512)) - EventThread shut down
2015-10-27 07:26:13,946 WARN  ha.ActiveStandbyElector (ActiveStandbyElector.java:isStaleClient(1006)) - Ignoring stale result from old client with sessionId 0x150a90c5c6b0000
2015-10-27 07:26:14,924 INFO  zookeeper.JUnit4ZKTestRunner (JUnit4ZKTestRunner.java:evaluate(55)) - Memory used 23865
2015-10-27 07:26:14,924 INFO  zookeeper.JUnit4ZKTestRunner (JUnit4ZKTestRunner.java:evaluate(60)) - Number of threads 11
2015-10-27 07:26:14,925 INFO  zookeeper.JUnit4ZKTestRunner (JUnit4ZKTestRunner.java:evaluate(65)) - FINISHED TEST METHOD testHandleSessionExpiration
2015-10-27 07:26:14,925 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:tearDown(470)) - tearDown starting
2015-10-27 07:26:14,925 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:stopServer(442)) - STOPPING server
2015-10-27 07:26:14,926 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54338 which had sessionid 0x150a90c5c6b0001
2015-10-27 07:26:14,926 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(224)) - NIOServerCnxn factory exited run method
2015-10-27 07:26:14,926 INFO  zookeeper.ClientCnxn (ClientCnxn.java:run(1098)) - Unable to read additional data from server sessionid 0x150a90c5c6b0001, likely server has closed socket, closing socket connection and attempting reconnect
2015-10-27 07:26:14,927 INFO  server.ZooKeeperServer (ZooKeeperServer.java:shutdown(441)) - shutting down
2015-10-27 07:26:14,927 INFO  server.SessionTrackerImpl (SessionTrackerImpl.java:shutdown(225)) - Shutting down
2015-10-27 07:26:14,927 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:shutdown(761)) - Shutting down
2015-10-27 07:26:14,927 INFO  server.SyncRequestProcessor (SyncRequestProcessor.java:shutdown(209)) - Shutting down
2015-10-27 07:26:14,927 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:run(143)) - PrepRequestProcessor exited loop!
2015-10-27 07:26:14,928 INFO  server.SyncRequestProcessor (SyncRequestProcessor.java:run(187)) - SyncRequestProcessor exited!
2015-10-27 07:26:14,928 INFO  server.FinalRequestProcessor (FinalRequestProcessor.java:shutdown(415)) - shutdown of request processor complete
2015-10-27 07:26:14,937 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:send4LetterWord(234)) - connecting to 127.0.0.1 11221
2015-10-27 07:26:14,941 INFO  zookeeper.ZKTestCase (ZKTestCase.java:succeeded(60)) - SUCCEEDED testHandleSessionExpiration
2015-10-27 07:26:14,941 INFO  zookeeper.ZKTestCase (ZKTestCase.java:finished(55)) - FINISHED testHandleSessionExpiration
2015-10-27 07:26:14,943 INFO  zookeeper.PortAssignment (PortAssignment.java:unique(32)) - assigning port 11222
2015-10-27 07:26:14,944 INFO  zookeeper.ZKTestCase (ZKTestCase.java:starting(50)) - STARTING testHandleSessionExpirationOfStandby
2015-10-27 07:26:14,944 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:startServer(437)) - STARTING server
2015-10-27 07:26:14,945 INFO  server.ZooKeeperServer (ZooKeeperServer.java:<init>(162)) - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 datadir build/test5852208158001675427.junit.dir/version-2 snapdir build/test5852208158001675427.junit.dir/version-2
2015-10-27 07:26:14,946 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:configure(94)) - binding to port 0.0.0.0/0.0.0.0:11222
2015-10-27 07:26:14,949 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:send4LetterWord(234)) - connecting to 127.0.0.1 11222
2015-10-27 07:26:14,950 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54343
2015-10-27 07:26:14,951 INFO  server.NIOServerCnxn (NIOServerCnxn.java:checkFourLetterWord(827)) - Processing stat command from /127.0.0.1:54343
2015-10-27 07:26:14,951 INFO  server.NIOServerCnxn (NIOServerCnxn.java:commandRun(663)) - Stat command output
2015-10-27 07:26:14,952 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54343 (no session established for client)
2015-10-27 07:26:14,953 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:setUp(404)) - Client test setup finished
2015-10-27 07:26:14,953 INFO  zookeeper.ZooKeeper (ZooKeeper.java:<init>(438)) - Initiating client connection, connectString=127.0.0.1:11222 sessionTimeout=5000 watcher=org.apache.hadoop.ha.ActiveStandbyElector$WatcherWithClientRef@58eccb7
2015-10-27 07:26:14,955 INFO  zookeeper.ClientCnxn (ClientCnxn.java:logStartConnect(975)) - Opening socket connection to server 127.0.0.1/127.0.0.1:11222. Will not attempt to authenticate using SASL (unknown error)
2015-10-27 07:26:14,955 INFO  zookeeper.ClientCnxn (ClientCnxn.java:primeConnection(852)) - Socket connection established to 127.0.0.1/127.0.0.1:11222, initiating session
2015-10-27 07:26:14,955 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54344
2015-10-27 07:26:14,956 INFO  server.ZooKeeperServer (ZooKeeperServer.java:processConnectRequest(868)) - Client attempting to establish new session at /127.0.0.1:54344
2015-10-27 07:26:14,957 INFO  persistence.FileTxnLog (FileTxnLog.java:append(199)) - Creating new log file: log.1
2015-10-27 07:26:14,959 INFO  server.ZooKeeperServer (ZooKeeperServer.java:finishSessionInit(617)) - Established session 0x150a90c6ba40000 with negotiated timeout 6000 for client /127.0.0.1:54344
2015-10-27 07:26:14,959 INFO  zookeeper.ClientCnxn (ClientCnxn.java:onConnected(1235)) - Session establishment complete on server 127.0.0.1/127.0.0.1:11222, sessionid = 0x150a90c6ba40000, negotiated timeout = 6000
2015-10-27 07:26:14,960 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:createConnection(768)) - Created new connection for elector id=580145283 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 926014001
2015-10-27 07:26:14,961 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: None with state:SyncConnected for path:null connectionState: TERMINATED for elector id=580145283 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 926014001
2015-10-27 07:26:14,961 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(547)) - Session connected.
2015-10-27 07:26:14,961 INFO  zookeeper.ZooKeeper (ZooKeeper.java:<init>(438)) - Initiating client connection, connectString=127.0.0.1:11222 sessionTimeout=5000 watcher=org.apache.hadoop.ha.ActiveStandbyElector$WatcherWithClientRef@3d961e2a
2015-10-27 07:26:14,962 INFO  zookeeper.ClientCnxn (ClientCnxn.java:logStartConnect(975)) - Opening socket connection to server 127.0.0.1/127.0.0.1:11222. Will not attempt to authenticate using SASL (unknown error)
2015-10-27 07:26:14,962 INFO  zookeeper.ClientCnxn (ClientCnxn.java:primeConnection(852)) - Socket connection established to 127.0.0.1/127.0.0.1:11222, initiating session
2015-10-27 07:26:14,962 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54345
2015-10-27 07:26:14,963 INFO  server.ZooKeeperServer (ZooKeeperServer.java:processConnectRequest(868)) - Client attempting to establish new session at /127.0.0.1:54345
2015-10-27 07:26:14,964 INFO  server.ZooKeeperServer (ZooKeeperServer.java:finishSessionInit(617)) - Established session 0x150a90c6ba40001 with negotiated timeout 6000 for client /127.0.0.1:54345
2015-10-27 07:26:14,964 INFO  zookeeper.ClientCnxn (ClientCnxn.java:onConnected(1235)) - Session establishment complete on server 127.0.0.1/127.0.0.1:11222, sessionid = 0x150a90c6ba40001, negotiated timeout = 6000
2015-10-27 07:26:14,965 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:createConnection(768)) - Created new connection for elector id=361199869 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 1897411861
2015-10-27 07:26:14,965 INFO  zookeeper.JUnit4ZKTestRunner (JUnit4ZKTestRunner.java:evaluate(50)) - RUNNING TEST METHOD testHandleSessionExpirationOfStandby
2015-10-27 07:26:14,966 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:ensureParentZNode(295)) - Ensuring existence of /2692a353-9731-4ff3-9540-1b6daa570068
2015-10-27 07:26:14,966 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: None with state:SyncConnected for path:null connectionState: TERMINATED for elector id=361199869 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 1897411861
2015-10-27 07:26:14,967 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(547)) - Session connected.
2015-10-27 07:26:14,968 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:ensureParentZNode(308)) - Successfully created /2692a353-9731-4ff3-9540-1b6daa570068 in ZK.
2015-10-27 07:26:14,970 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:joinElection(259)) - Attempting active election for elector id=580145283 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 926014001
2015-10-27 07:26:14,974 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(409)) - CreateNode result: 0 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: CONNECTED  for elector id=580145283 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 926014001
2015-10-27 07:26:14,974 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:fenceOldActive(877)) - Checking for any old active which needs to be fenced...
2015-10-27 07:26:14,975 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:fenceOldActive(887)) - No old node to fence
2015-10-27 07:26:14,975 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:writeBreadCrumbNode(824)) - Writing znode /2692a353-9731-4ff3-9540-1b6daa570068/ActiveBreadCrumb to indicate that the local node is the most recent active...
2015-10-27 07:26:14,978 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:becomeActive(804)) - Becoming active for elector id=580145283 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 926014001
2015-10-27 07:26:14,979 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:monitorActiveStatus(649)) - Monitoring active leader for elector id=580145283 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 926014001
2015-10-27 07:26:14,980 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(471)) - StatNode result: 0 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: CONNECTED for elector id=580145283 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 926014001
2015-10-27 07:26:15,001 INFO  server.SessionTrackerImpl (SessionTrackerImpl.java:run(162)) - SessionTrackerImpl exited loop!
2015-10-27 07:26:15,023 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:joinElection(259)) - Attempting active election for elector id=361199869 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1897411861
2015-10-27 07:26:15,026 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:pRequest(645)) - Got user-level KeeperException when processing sessionid:0x150a90c6ba40001 type:create cxid:0x1 zxid:0x6 txntype:-1 reqpath:n/a Error Path:/2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock Error:KeeperErrorCode = NodeExists for /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock
2015-10-27 07:26:15,027 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(409)) - CreateNode result: -110 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: CONNECTED  for elector id=361199869 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1897411861
2015-10-27 07:26:15,028 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:becomeStandby(909)) - Becoming standby for elector id=361199869 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1897411861
2015-10-27 07:26:15,028 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: None with state:Disconnected for path:null connectionState: TERMINATED for elector id=251791473 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 1316502121
2015-10-27 07:26:15,028 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(558)) - Session disconnected. Entering neutral mode...
2015-10-27 07:26:15,029 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:monitorActiveStatus(649)) - Monitoring active leader for elector id=361199869 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1897411861
2015-10-27 07:26:15,029 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:enterNeutralMode(917)) - Entering neutral mode for elector id=251791473 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 1316502121
2015-10-27 07:26:15,030 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(471)) - StatNode result: 0 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: CONNECTED for elector id=361199869 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1897411861
2015-10-27 07:26:15,074 INFO  ha.ClientBaseWithFixes (TestActiveStandbyElectorRealZK.java:testHandleSessionExpirationOfStandby(217)) - ========================== Expiring standby's session
2015-10-27 07:26:15,074 INFO  server.ZooKeeperServer (ZooKeeperServer.java:closeSession(326)) - Closing session 0x150a90c6ba40001
2015-10-27 07:26:15,075 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:pRequest2Txn(494)) - Processed session termination for sessionid: 0x150a90c6ba40001
2015-10-27 07:26:15,076 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54345 which had sessionid 0x150a90c6ba40001
2015-10-27 07:26:15,076 INFO  zookeeper.ClientCnxn (ClientCnxn.java:run(1098)) - Unable to read additional data from server sessionid 0x150a90c6ba40001, likely server has closed socket, closing socket connection and attempting reconnect
2015-10-27 07:26:15,178 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: None with state:Disconnected for path:null connectionState: CONNECTED for elector id=361199869 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1897411861
2015-10-27 07:26:15,178 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(558)) - Session disconnected. Entering neutral mode...
2015-10-27 07:26:15,179 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:enterNeutralMode(917)) - Entering neutral mode for elector id=361199869 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1897411861
2015-10-27 07:26:16,482 INFO  zookeeper.ClientCnxn (ClientCnxn.java:logStartConnect(975)) - Opening socket connection to server 127.0.0.1/127.0.0.1:11222. Will not attempt to authenticate using SASL (unknown error)
2015-10-27 07:26:16,482 INFO  zookeeper.ClientCnxn (ClientCnxn.java:primeConnection(852)) - Socket connection established to 127.0.0.1/127.0.0.1:11222, initiating session
2015-10-27 07:26:16,482 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54347
2015-10-27 07:26:16,485 INFO  server.ZooKeeperServer (ZooKeeperServer.java:processConnectRequest(861)) - Client attempting to renew session 0x150a90c6ba40001 at /127.0.0.1:54347
2015-10-27 07:26:16,485 INFO  server.ZooKeeperServer (ZooKeeperServer.java:finishSessionInit(610)) - Invalid session 0x150a90c6ba40001 for client /127.0.0.1:54347, probably expired
2015-10-27 07:26:16,485 INFO  zookeeper.ClientCnxn (ClientCnxn.java:run(1094)) - Unable to reconnect to ZooKeeper service, session 0x150a90c6ba40001 has expired, closing socket connection
2015-10-27 07:26:16,485 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54347 which had sessionid 0x150a90c6ba40001
2015-10-27 07:26:16,486 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: None with state:Expired for path:null connectionState: DISCONNECTED for elector id=361199869 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1897411861
2015-10-27 07:26:16,486 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(568)) - Session expired. Entering neutral mode and rejoining...
2015-10-27 07:26:16,486 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:reJoinElection(670)) - Trying to re-establish ZK session
2015-10-27 07:26:16,487 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:terminateConnection(776)) - Terminating ZK connection for elector id=361199869 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1897411861
2015-10-27 07:26:16,488 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:reEstablishSession(740)) - Establishing zookeeper connection for elector id=361199869 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1897411861
2015-10-27 07:26:16,488 INFO  zookeeper.ZooKeeper (ZooKeeper.java:<init>(438)) - Initiating client connection, connectString=127.0.0.1:11222 sessionTimeout=5000 watcher=org.apache.hadoop.ha.ActiveStandbyElector$WatcherWithClientRef@6d0ff6e0
2015-10-27 07:26:16,489 INFO  zookeeper.ClientCnxn (ClientCnxn.java:logStartConnect(975)) - Opening socket connection to server 127.0.0.1/127.0.0.1:11222. Will not attempt to authenticate using SASL (unknown error)
2015-10-27 07:26:16,489 INFO  zookeeper.ClientCnxn (ClientCnxn.java:primeConnection(852)) - Socket connection established to 127.0.0.1/127.0.0.1:11222, initiating session
2015-10-27 07:26:16,489 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54348
2015-10-27 07:26:16,490 INFO  server.ZooKeeperServer (ZooKeeperServer.java:processConnectRequest(868)) - Client attempting to establish new session at /127.0.0.1:54348
2015-10-27 07:26:16,491 INFO  server.ZooKeeperServer (ZooKeeperServer.java:finishSessionInit(617)) - Established session 0x150a90c6ba40002 with negotiated timeout 6000 for client /127.0.0.1:54348
2015-10-27 07:26:16,491 INFO  zookeeper.ClientCnxn (ClientCnxn.java:onConnected(1235)) - Session establishment complete on server 127.0.0.1/127.0.0.1:11222, sessionid = 0x150a90c6ba40002, negotiated timeout = 6000
2015-10-27 07:26:16,492 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:createConnection(768)) - Created new connection for elector id=361199869 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1897411861
2015-10-27 07:26:16,493 INFO  zookeeper.ClientCnxn (ClientCnxn.java:run(512)) - EventThread shut down
2015-10-27 07:26:16,493 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:pRequest(645)) - Got user-level KeeperException when processing sessionid:0x150a90c6ba40002 type:create cxid:0x1 zxid:0x9 txntype:-1 reqpath:n/a Error Path:/2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock Error:KeeperErrorCode = NodeExists for /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock
2015-10-27 07:26:16,494 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: None with state:SyncConnected for path:null connectionState: TERMINATED for elector id=361199869 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1897411861
2015-10-27 07:26:16,494 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(547)) - Session connected.
2015-10-27 07:26:16,496 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(409)) - CreateNode result: -110 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: CONNECTED  for elector id=361199869 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1897411861
2015-10-27 07:26:16,497 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:becomeStandby(909)) - Becoming standby for elector id=361199869 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1897411861
2015-10-27 07:26:16,498 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:monitorActiveStatus(649)) - Monitoring active leader for elector id=361199869 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1897411861
2015-10-27 07:26:16,499 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(471)) - StatNode result: 0 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: CONNECTED for elector id=361199869 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1897411861
2015-10-27 07:26:16,510 INFO  ha.ClientBaseWithFixes (TestActiveStandbyElectorRealZK.java:testHandleSessionExpirationOfStandby(228)) - ========================== Quitting election
2015-10-27 07:26:16,511 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:quitElection(354)) - Yielding from election
2015-10-27 07:26:16,512 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:terminateConnection(776)) - Terminating ZK connection for elector id=361199869 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1897411861
2015-10-27 07:26:16,512 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:pRequest2Txn(494)) - Processed session termination for sessionid: 0x150a90c6ba40002
2015-10-27 07:26:16,513 INFO  zookeeper.ZooKeeper (ZooKeeper.java:close(684)) - Session: 0x150a90c6ba40002 closed
2015-10-27 07:26:16,513 INFO  zookeeper.ClientCnxn (ClientCnxn.java:run(512)) - EventThread shut down
2015-10-27 07:26:16,514 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54348 which had sessionid 0x150a90c6ba40002
2015-10-27 07:26:16,513 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:quitElection(354)) - Yielding from election
2015-10-27 07:26:16,515 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:tryDeleteOwnBreadCrumbNode(844)) - Deleting bread-crumb of active node...
2015-10-27 07:26:16,518 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:terminateConnection(776)) - Terminating ZK connection for elector id=580145283 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 926014001
2015-10-27 07:26:16,519 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:pRequest2Txn(494)) - Processed session termination for sessionid: 0x150a90c6ba40000
2015-10-27 07:26:16,520 INFO  zookeeper.ZooKeeper (ZooKeeper.java:close(684)) - Session: 0x150a90c6ba40000 closed
2015-10-27 07:26:16,520 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54344 which had sessionid 0x150a90c6ba40000
2015-10-27 07:26:16,520 WARN  ha.ActiveStandbyElector (ActiveStandbyElector.java:isStaleClient(1006)) - Ignoring stale result from old client with sessionId 0x150a90c6ba40000
2015-10-27 07:26:16,520 INFO  zookeeper.ClientCnxn (ClientCnxn.java:run(512)) - EventThread shut down
2015-10-27 07:26:16,524 INFO  zookeeper.ClientCnxn (ClientCnxn.java:logStartConnect(975)) - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-10-27 07:26:16,525 WARN  zookeeper.ClientCnxn (ClientCnxn.java:run(1102)) - Session 0x150a90c5c6b0001 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:361)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1081)
2015-10-27 07:26:17,522 INFO  zookeeper.JUnit4ZKTestRunner (JUnit4ZKTestRunner.java:evaluate(55)) - Memory used 30509
2015-10-27 07:26:17,522 INFO  zookeeper.JUnit4ZKTestRunner (JUnit4ZKTestRunner.java:evaluate(60)) - Number of threads 11
2015-10-27 07:26:17,522 INFO  zookeeper.JUnit4ZKTestRunner (JUnit4ZKTestRunner.java:evaluate(65)) - FINISHED TEST METHOD testHandleSessionExpirationOfStandby
2015-10-27 07:26:17,523 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:tearDown(470)) - tearDown starting
2015-10-27 07:26:17,523 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:stopServer(442)) - STOPPING server
2015-10-27 07:26:17,523 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(224)) - NIOServerCnxn factory exited run method
2015-10-27 07:26:17,524 INFO  server.ZooKeeperServer (ZooKeeperServer.java:shutdown(441)) - shutting down
2015-10-27 07:26:17,524 INFO  server.SessionTrackerImpl (SessionTrackerImpl.java:shutdown(225)) - Shutting down
2015-10-27 07:26:17,524 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:shutdown(761)) - Shutting down
2015-10-27 07:26:17,525 INFO  server.SyncRequestProcessor (SyncRequestProcessor.java:shutdown(209)) - Shutting down
2015-10-27 07:26:17,525 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:run(143)) - PrepRequestProcessor exited loop!
2015-10-27 07:26:17,525 INFO  server.SyncRequestProcessor (SyncRequestProcessor.java:run(187)) - SyncRequestProcessor exited!
2015-10-27 07:26:17,525 INFO  server.FinalRequestProcessor (FinalRequestProcessor.java:shutdown(415)) - shutdown of request processor complete
2015-10-27 07:26:17,526 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:send4LetterWord(234)) - connecting to 127.0.0.1 11222
2015-10-27 07:26:17,529 INFO  zookeeper.ZKTestCase (ZKTestCase.java:succeeded(60)) - SUCCEEDED testHandleSessionExpirationOfStandby
2015-10-27 07:26:17,529 INFO  zookeeper.ZKTestCase (ZKTestCase.java:finished(55)) - FINISHED testHandleSessionExpirationOfStandby
2015-10-27 07:26:17,530 INFO  zookeeper.PortAssignment (PortAssignment.java:unique(32)) - assigning port 11223
2015-10-27 07:26:17,531 INFO  zookeeper.ZKTestCase (ZKTestCase.java:starting(50)) - STARTING testDontJoinElectionOnDisconnectAndReconnect
2015-10-27 07:26:17,532 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:startServer(437)) - STARTING server
2015-10-27 07:26:17,532 INFO  server.ZooKeeperServer (ZooKeeperServer.java:<init>(162)) - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 datadir build/test3958254740783234496.junit.dir/version-2 snapdir build/test3958254740783234496.junit.dir/version-2
2015-10-27 07:26:17,533 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:configure(94)) - binding to port 0.0.0.0/0.0.0.0:11223
2015-10-27 07:26:17,535 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:send4LetterWord(234)) - connecting to 127.0.0.1 11223
2015-10-27 07:26:17,536 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54352
2015-10-27 07:26:17,537 INFO  server.NIOServerCnxn (NIOServerCnxn.java:checkFourLetterWord(827)) - Processing stat command from /127.0.0.1:54352
2015-10-27 07:26:17,538 INFO  server.NIOServerCnxn (NIOServerCnxn.java:commandRun(663)) - Stat command output
2015-10-27 07:26:17,539 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54352 (no session established for client)
2015-10-27 07:26:17,539 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:setUp(404)) - Client test setup finished
2015-10-27 07:26:17,540 INFO  zookeeper.ZooKeeper (ZooKeeper.java:<init>(438)) - Initiating client connection, connectString=127.0.0.1:11223 sessionTimeout=5000 watcher=org.apache.hadoop.ha.ActiveStandbyElector$WatcherWithClientRef@7c542b0c
2015-10-27 07:26:17,541 INFO  zookeeper.ClientCnxn (ClientCnxn.java:logStartConnect(975)) - Opening socket connection to server 127.0.0.1/127.0.0.1:11223. Will not attempt to authenticate using SASL (unknown error)
2015-10-27 07:26:17,541 INFO  zookeeper.ClientCnxn (ClientCnxn.java:primeConnection(852)) - Socket connection established to 127.0.0.1/127.0.0.1:11223, initiating session
2015-10-27 07:26:17,541 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54353
2015-10-27 07:26:17,542 INFO  server.ZooKeeperServer (ZooKeeperServer.java:processConnectRequest(868)) - Client attempting to establish new session at /127.0.0.1:54353
2015-10-27 07:26:17,542 INFO  persistence.FileTxnLog (FileTxnLog.java:append(199)) - Creating new log file: log.1
2015-10-27 07:26:17,544 INFO  server.ZooKeeperServer (ZooKeeperServer.java:finishSessionInit(617)) - Established session 0x150a90c75be0000 with negotiated timeout 6000 for client /127.0.0.1:54353
2015-10-27 07:26:17,544 INFO  zookeeper.ClientCnxn (ClientCnxn.java:onConnected(1235)) - Session establishment complete on server 127.0.0.1/127.0.0.1:11223, sessionid = 0x150a90c75be0000, negotiated timeout = 6000
2015-10-27 07:26:17,545 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:createConnection(768)) - Created new connection for elector id=2050939465 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 879570258
2015-10-27 07:26:17,545 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: None with state:SyncConnected for path:null connectionState: TERMINATED for elector id=2050939465 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 879570258
2015-10-27 07:26:17,545 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(547)) - Session connected.
2015-10-27 07:26:17,545 INFO  zookeeper.ZooKeeper (ZooKeeper.java:<init>(438)) - Initiating client connection, connectString=127.0.0.1:11223 sessionTimeout=5000 watcher=org.apache.hadoop.ha.ActiveStandbyElector$WatcherWithClientRef@207da288
2015-10-27 07:26:17,546 INFO  zookeeper.ClientCnxn (ClientCnxn.java:logStartConnect(975)) - Opening socket connection to server 127.0.0.1/127.0.0.1:11223. Will not attempt to authenticate using SASL (unknown error)
2015-10-27 07:26:17,547 INFO  zookeeper.ClientCnxn (ClientCnxn.java:primeConnection(852)) - Socket connection established to 127.0.0.1/127.0.0.1:11223, initiating session
2015-10-27 07:26:17,547 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54354
2015-10-27 07:26:17,548 INFO  server.ZooKeeperServer (ZooKeeperServer.java:processConnectRequest(868)) - Client attempting to establish new session at /127.0.0.1:54354
2015-10-27 07:26:17,549 INFO  server.ZooKeeperServer (ZooKeeperServer.java:finishSessionInit(617)) - Established session 0x150a90c75be0001 with negotiated timeout 6000 for client /127.0.0.1:54354
2015-10-27 07:26:17,550 INFO  zookeeper.ClientCnxn (ClientCnxn.java:onConnected(1235)) - Session establishment complete on server 127.0.0.1/127.0.0.1:11223, sessionid = 0x150a90c75be0001, negotiated timeout = 6000
2015-10-27 07:26:17,551 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:createConnection(768)) - Created new connection for elector id=518169933 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 1866405195
2015-10-27 07:26:17,551 INFO  zookeeper.JUnit4ZKTestRunner (JUnit4ZKTestRunner.java:evaluate(50)) - RUNNING TEST METHOD testDontJoinElectionOnDisconnectAndReconnect
2015-10-27 07:26:17,551 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: None with state:SyncConnected for path:null connectionState: TERMINATED for elector id=518169933 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 1866405195
2015-10-27 07:26:17,552 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(547)) - Session connected.
2015-10-27 07:26:17,551 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:ensureParentZNode(295)) - Ensuring existence of /2692a353-9731-4ff3-9540-1b6daa570068
2015-10-27 07:26:17,554 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:ensureParentZNode(308)) - Successfully created /2692a353-9731-4ff3-9540-1b6daa570068 in ZK.
2015-10-27 07:26:17,555 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:stopServer(442)) - STOPPING server
2015-10-27 07:26:17,556 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54354 which had sessionid 0x150a90c75be0001
2015-10-27 07:26:17,556 INFO  zookeeper.ClientCnxn (ClientCnxn.java:run(1098)) - Unable to read additional data from server sessionid 0x150a90c75be0001, likely server has closed socket, closing socket connection and attempting reconnect
2015-10-27 07:26:17,556 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54353 which had sessionid 0x150a90c75be0000
2015-10-27 07:26:17,557 INFO  zookeeper.ClientCnxn (ClientCnxn.java:run(1098)) - Unable to read additional data from server sessionid 0x150a90c75be0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-10-27 07:26:17,557 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(224)) - NIOServerCnxn factory exited run method
2015-10-27 07:26:17,560 INFO  server.ZooKeeperServer (ZooKeeperServer.java:shutdown(441)) - shutting down
2015-10-27 07:26:17,560 INFO  server.SessionTrackerImpl (SessionTrackerImpl.java:shutdown(225)) - Shutting down
2015-10-27 07:26:17,560 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:shutdown(761)) - Shutting down
2015-10-27 07:26:17,561 INFO  server.SyncRequestProcessor (SyncRequestProcessor.java:shutdown(209)) - Shutting down
2015-10-27 07:26:17,561 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:run(143)) - PrepRequestProcessor exited loop!
2015-10-27 07:26:17,567 INFO  server.SyncRequestProcessor (SyncRequestProcessor.java:run(187)) - SyncRequestProcessor exited!
2015-10-27 07:26:17,567 INFO  server.FinalRequestProcessor (FinalRequestProcessor.java:shutdown(415)) - shutdown of request processor complete
2015-10-27 07:26:17,568 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:send4LetterWord(234)) - connecting to 127.0.0.1 11223
2015-10-27 07:26:17,657 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: None with state:Disconnected for path:null connectionState: CONNECTED for elector id=518169933 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 1866405195
2015-10-27 07:26:17,658 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(558)) - Session disconnected. Entering neutral mode...
2015-10-27 07:26:17,658 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:enterNeutralMode(917)) - Entering neutral mode for elector id=518169933 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 1866405195
2015-10-27 07:26:17,658 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: None with state:Disconnected for path:null connectionState: CONNECTED for elector id=2050939465 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 879570258
2015-10-27 07:26:17,658 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(558)) - Session disconnected. Entering neutral mode...
2015-10-27 07:26:17,659 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:enterNeutralMode(917)) - Entering neutral mode for elector id=2050939465 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 879570258
2015-10-27 07:26:17,671 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:startServer(437)) - STARTING server
2015-10-27 07:26:17,672 INFO  server.ZooKeeperServer (ZooKeeperServer.java:<init>(162)) - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 datadir build/test3958254740783234496.junit.dir/version-2 snapdir build/test3958254740783234496.junit.dir/version-2
2015-10-27 07:26:17,672 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:configure(94)) - binding to port 0.0.0.0/0.0.0.0:11223
2015-10-27 07:26:17,678 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:send4LetterWord(234)) - connecting to 127.0.0.1 11223
2015-10-27 07:26:17,678 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54356
2015-10-27 07:26:17,679 INFO  server.NIOServerCnxn (NIOServerCnxn.java:checkFourLetterWord(827)) - Processing stat command from /127.0.0.1:54356
2015-10-27 07:26:17,679 INFO  server.NIOServerCnxn (NIOServerCnxn.java:commandRun(663)) - Stat command output
2015-10-27 07:26:17,680 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54356 (no session established for client)
2015-10-27 07:26:17,681 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:send4LetterWord(234)) - connecting to 127.0.0.1 11223
2015-10-27 07:26:17,682 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54357
2015-10-27 07:26:17,682 INFO  server.NIOServerCnxn (NIOServerCnxn.java:checkFourLetterWord(827)) - Processing stat command from /127.0.0.1:54357
2015-10-27 07:26:17,683 INFO  server.NIOServerCnxn (NIOServerCnxn.java:commandRun(663)) - Stat command output
2015-10-27 07:26:17,683 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54357 (no session established for client)
2015-10-27 07:26:18,001 INFO  server.SessionTrackerImpl (SessionTrackerImpl.java:run(162)) - SessionTrackerImpl exited loop!
2015-10-27 07:26:18,001 INFO  server.SessionTrackerImpl (SessionTrackerImpl.java:run(162)) - SessionTrackerImpl exited loop!
2015-10-27 07:26:18,211 INFO  zookeeper.ClientCnxn (ClientCnxn.java:logStartConnect(975)) - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-10-27 07:26:18,211 WARN  zookeeper.ClientCnxn (ClientCnxn.java:run(1102)) - Session 0x150a90c5c6b0001 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:361)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1081)
2015-10-27 07:26:19,384 INFO  zookeeper.ClientCnxn (ClientCnxn.java:logStartConnect(975)) - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-10-27 07:26:19,385 WARN  zookeeper.ClientCnxn (ClientCnxn.java:run(1102)) - Session 0x150a90c5c6b0001 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:361)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1081)
2015-10-27 07:26:19,432 INFO  zookeeper.ClientCnxn (ClientCnxn.java:logStartConnect(975)) - Opening socket connection to server 127.0.0.1/127.0.0.1:11223. Will not attempt to authenticate using SASL (unknown error)
2015-10-27 07:26:19,433 INFO  zookeeper.ClientCnxn (ClientCnxn.java:primeConnection(852)) - Socket connection established to 127.0.0.1/127.0.0.1:11223, initiating session
2015-10-27 07:26:19,433 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54360
2015-10-27 07:26:19,434 INFO  server.ZooKeeperServer (ZooKeeperServer.java:processConnectRequest(861)) - Client attempting to renew session 0x150a90c75be0000 at /127.0.0.1:54360
2015-10-27 07:26:19,434 INFO  server.ZooKeeperServer (ZooKeeperServer.java:finishSessionInit(617)) - Established session 0x150a90c75be0000 with negotiated timeout 6000 for client /127.0.0.1:54360
2015-10-27 07:26:19,435 INFO  zookeeper.ClientCnxn (ClientCnxn.java:onConnected(1235)) - Session establishment complete on server 127.0.0.1/127.0.0.1:11223, sessionid = 0x150a90c75be0000, negotiated timeout = 6000
2015-10-27 07:26:19,435 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: None with state:SyncConnected for path:null connectionState: DISCONNECTED for elector id=2050939465 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 879570258
2015-10-27 07:26:19,435 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(547)) - Session connected.
2015-10-27 07:26:19,509 INFO  zookeeper.ClientCnxn (ClientCnxn.java:logStartConnect(975)) - Opening socket connection to server 127.0.0.1/127.0.0.1:11223. Will not attempt to authenticate using SASL (unknown error)
2015-10-27 07:26:19,511 INFO  zookeeper.ClientCnxn (ClientCnxn.java:primeConnection(852)) - Socket connection established to 127.0.0.1/127.0.0.1:11223, initiating session
2015-10-27 07:26:19,511 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54361
2015-10-27 07:26:19,512 INFO  server.ZooKeeperServer (ZooKeeperServer.java:processConnectRequest(861)) - Client attempting to renew session 0x150a90c75be0001 at /127.0.0.1:54361
2015-10-27 07:26:19,514 INFO  server.ZooKeeperServer (ZooKeeperServer.java:finishSessionInit(617)) - Established session 0x150a90c75be0001 with negotiated timeout 6000 for client /127.0.0.1:54361
2015-10-27 07:26:19,514 INFO  zookeeper.ClientCnxn (ClientCnxn.java:onConnected(1235)) - Session establishment complete on server 127.0.0.1/127.0.0.1:11223, sessionid = 0x150a90c75be0001, negotiated timeout = 6000
2015-10-27 07:26:19,515 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: None with state:SyncConnected for path:null connectionState: DISCONNECTED for elector id=518169933 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 1866405195
2015-10-27 07:26:19,515 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(547)) - Session connected.
2015-10-27 07:26:19,686 INFO  zookeeper.JUnit4ZKTestRunner (JUnit4ZKTestRunner.java:evaluate(55)) - Memory used 36037
2015-10-27 07:26:19,686 INFO  zookeeper.JUnit4ZKTestRunner (JUnit4ZKTestRunner.java:evaluate(60)) - Number of threads 15
2015-10-27 07:26:19,686 INFO  zookeeper.JUnit4ZKTestRunner (JUnit4ZKTestRunner.java:evaluate(65)) - FINISHED TEST METHOD testDontJoinElectionOnDisconnectAndReconnect
2015-10-27 07:26:19,687 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:tearDown(470)) - tearDown starting
2015-10-27 07:26:19,687 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:stopServer(442)) - STOPPING server
2015-10-27 07:26:19,688 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54360 which had sessionid 0x150a90c75be0000
2015-10-27 07:26:19,688 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54361 which had sessionid 0x150a90c75be0001
2015-10-27 07:26:19,688 INFO  zookeeper.ClientCnxn (ClientCnxn.java:run(1098)) - Unable to read additional data from server sessionid 0x150a90c75be0000, likely server has closed socket, closing socket connection and attempting reconnect
2015-10-27 07:26:19,689 INFO  zookeeper.ClientCnxn (ClientCnxn.java:run(1098)) - Unable to read additional data from server sessionid 0x150a90c75be0001, likely server has closed socket, closing socket connection and attempting reconnect
2015-10-27 07:26:19,689 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(224)) - NIOServerCnxn factory exited run method
2015-10-27 07:26:19,689 INFO  server.ZooKeeperServer (ZooKeeperServer.java:shutdown(441)) - shutting down
2015-10-27 07:26:19,689 INFO  server.SessionTrackerImpl (SessionTrackerImpl.java:shutdown(225)) - Shutting down
2015-10-27 07:26:19,690 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:shutdown(761)) - Shutting down
2015-10-27 07:26:19,690 INFO  server.SyncRequestProcessor (SyncRequestProcessor.java:shutdown(209)) - Shutting down
2015-10-27 07:26:19,690 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:run(143)) - PrepRequestProcessor exited loop!
2015-10-27 07:26:19,690 INFO  server.SyncRequestProcessor (SyncRequestProcessor.java:run(187)) - SyncRequestProcessor exited!
2015-10-27 07:26:19,690 INFO  server.FinalRequestProcessor (FinalRequestProcessor.java:shutdown(415)) - shutdown of request processor complete
2015-10-27 07:26:19,691 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:send4LetterWord(234)) - connecting to 127.0.0.1 11223
2015-10-27 07:26:19,693 INFO  zookeeper.ZKTestCase (ZKTestCase.java:succeeded(60)) - SUCCEEDED testDontJoinElectionOnDisconnectAndReconnect
2015-10-27 07:26:19,694 INFO  zookeeper.ZKTestCase (ZKTestCase.java:finished(55)) - FINISHED testDontJoinElectionOnDisconnectAndReconnect
2015-10-27 07:26:19,695 INFO  zookeeper.PortAssignment (PortAssignment.java:unique(32)) - assigning port 11224
2015-10-27 07:26:19,696 INFO  zookeeper.ZKTestCase (ZKTestCase.java:starting(50)) - STARTING testActiveStandbyTransition
2015-10-27 07:26:19,696 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:startServer(437)) - STARTING server
2015-10-27 07:26:19,697 INFO  server.ZooKeeperServer (ZooKeeperServer.java:<init>(162)) - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 datadir build/test3624950345770248608.junit.dir/version-2 snapdir build/test3624950345770248608.junit.dir/version-2
2015-10-27 07:26:19,697 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:configure(94)) - binding to port 0.0.0.0/0.0.0.0:11224
2015-10-27 07:26:19,699 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:send4LetterWord(234)) - connecting to 127.0.0.1 11224
2015-10-27 07:26:19,699 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54363
2015-10-27 07:26:19,700 INFO  server.NIOServerCnxn (NIOServerCnxn.java:checkFourLetterWord(827)) - Processing stat command from /127.0.0.1:54363
2015-10-27 07:26:19,700 INFO  server.NIOServerCnxn (NIOServerCnxn.java:commandRun(663)) - Stat command output
2015-10-27 07:26:19,716 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54363 (no session established for client)
2015-10-27 07:26:19,718 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:setUp(404)) - Client test setup finished
2015-10-27 07:26:19,718 INFO  zookeeper.ZooKeeper (ZooKeeper.java:<init>(438)) - Initiating client connection, connectString=127.0.0.1:11224 sessionTimeout=5000 watcher=org.apache.hadoop.ha.ActiveStandbyElector$WatcherWithClientRef@472d71ce
2015-10-27 07:26:19,719 INFO  zookeeper.ClientCnxn (ClientCnxn.java:logStartConnect(975)) - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-10-27 07:26:19,720 INFO  zookeeper.ClientCnxn (ClientCnxn.java:primeConnection(852)) - Socket connection established to 127.0.0.1/127.0.0.1:11224, initiating session
2015-10-27 07:26:19,720 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54364
2015-10-27 07:26:19,720 INFO  server.ZooKeeperServer (ZooKeeperServer.java:processConnectRequest(868)) - Client attempting to establish new session at /127.0.0.1:54364
2015-10-27 07:26:19,721 INFO  persistence.FileTxnLog (FileTxnLog.java:append(199)) - Creating new log file: log.1
2015-10-27 07:26:19,732 INFO  server.ZooKeeperServer (ZooKeeperServer.java:finishSessionInit(617)) - Established session 0x150a90c7e320000 with negotiated timeout 6000 for client /127.0.0.1:54364
2015-10-27 07:26:19,733 INFO  zookeeper.ClientCnxn (ClientCnxn.java:onConnected(1235)) - Session establishment complete on server 127.0.0.1/127.0.0.1:11224, sessionid = 0x150a90c7e320000, negotiated timeout = 6000
2015-10-27 07:26:19,733 WARN  ha.ActiveStandbyElector (ActiveStandbyElector.java:isStaleClient(1006)) - Ignoring stale result from old client with sessionId 0x150a90c7e320000
2015-10-27 07:26:19,734 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:createConnection(768)) - Created new connection for elector id=1672306158 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:19,734 INFO  zookeeper.ZooKeeper (ZooKeeper.java:<init>(438)) - Initiating client connection, connectString=127.0.0.1:11224 sessionTimeout=5000 watcher=org.apache.hadoop.ha.ActiveStandbyElector$WatcherWithClientRef@f8dd88b
2015-10-27 07:26:19,735 INFO  zookeeper.ClientCnxn (ClientCnxn.java:logStartConnect(975)) - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-10-27 07:26:19,735 INFO  zookeeper.ClientCnxn (ClientCnxn.java:primeConnection(852)) - Socket connection established to 127.0.0.1/127.0.0.1:11224, initiating session
2015-10-27 07:26:19,736 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54365
2015-10-27 07:26:19,736 INFO  server.ZooKeeperServer (ZooKeeperServer.java:processConnectRequest(868)) - Client attempting to establish new session at /127.0.0.1:54365
2015-10-27 07:26:19,737 INFO  server.ZooKeeperServer (ZooKeeperServer.java:finishSessionInit(617)) - Established session 0x150a90c7e320001 with negotiated timeout 6000 for client /127.0.0.1:54365
2015-10-27 07:26:19,738 INFO  zookeeper.ClientCnxn (ClientCnxn.java:onConnected(1235)) - Session establishment complete on server 127.0.0.1/127.0.0.1:11224, sessionid = 0x150a90c7e320001, negotiated timeout = 6000
2015-10-27 07:26:19,739 WARN  ha.ActiveStandbyElector (ActiveStandbyElector.java:isStaleClient(1006)) - Ignoring stale result from old client with sessionId 0x150a90c7e320001
2015-10-27 07:26:19,739 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:createConnection(768)) - Created new connection for elector id=1700989925 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:19,740 INFO  zookeeper.JUnit4ZKTestRunner (JUnit4ZKTestRunner.java:evaluate(50)) - RUNNING TEST METHOD testActiveStandbyTransition
2015-10-27 07:26:19,740 INFO  ha.ClientBaseWithFixes (TestActiveStandbyElectorRealZK.java:testActiveStandbyTransition(92)) - starting test with parentDir:/2692a353-9731-4ff3-9540-1b6daa570068
2015-10-27 07:26:19,741 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:ensureParentZNode(295)) - Ensuring existence of /2692a353-9731-4ff3-9540-1b6daa570068
2015-10-27 07:26:19,745 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:ensureParentZNode(308)) - Successfully created /2692a353-9731-4ff3-9540-1b6daa570068 in ZK.
2015-10-27 07:26:19,747 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:joinElection(259)) - Attempting active election for elector id=1672306158 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:19,750 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(409)) - CreateNode result: 0 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: TERMINATED  for elector id=1672306158 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:19,750 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:fenceOldActive(877)) - Checking for any old active which needs to be fenced...
2015-10-27 07:26:19,751 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:fenceOldActive(887)) - No old node to fence
2015-10-27 07:26:19,751 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:writeBreadCrumbNode(824)) - Writing znode /2692a353-9731-4ff3-9540-1b6daa570068/ActiveBreadCrumb to indicate that the local node is the most recent active...
2015-10-27 07:26:19,754 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:becomeActive(804)) - Becoming active for elector id=1672306158 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:19,754 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:monitorActiveStatus(649)) - Monitoring active leader for elector id=1672306158 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:19,756 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(471)) - StatNode result: 0 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: TERMINATED for elector id=1672306158 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:19,790 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: None with state:Disconnected for path:null connectionState: CONNECTED for elector id=518169933 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 1866405195
2015-10-27 07:26:19,790 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(558)) - Session disconnected. Entering neutral mode...
2015-10-27 07:26:19,790 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: None with state:Disconnected for path:null connectionState: CONNECTED for elector id=2050939465 appData=null cb=Mock for ActiveStandbyElectorCallback, hashCode: 879570258
2015-10-27 07:26:19,791 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(558)) - Session disconnected. Entering neutral mode...
2015-10-27 07:26:19,800 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:joinElection(259)) - Attempting active election for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:19,801 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:pRequest(645)) - Got user-level KeeperException when processing sessionid:0x150a90c7e320001 type:create cxid:0x1 zxid:0x6 txntype:-1 reqpath:n/a Error Path:/2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock Error:KeeperErrorCode = NodeExists for /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock
2015-10-27 07:26:19,804 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(409)) - CreateNode result: -110 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: TERMINATED  for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:19,804 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:becomeStandby(909)) - Becoming standby for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:19,805 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:monitorActiveStatus(649)) - Monitoring active leader for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:19,807 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(471)) - StatNode result: 0 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: TERMINATED for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:19,813 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:quitElection(354)) - Yielding from election
2015-10-27 07:26:19,814 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:terminateConnection(776)) - Terminating ZK connection for elector id=1672306158 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:19,815 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:pRequest2Txn(494)) - Processed session termination for sessionid: 0x150a90c7e320000
2015-10-27 07:26:19,816 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54364 which had sessionid 0x150a90c7e320000
2015-10-27 07:26:19,817 INFO  zookeeper.ZooKeeper (ZooKeeper.java:close(684)) - Session: 0x150a90c7e320000 closed
2015-10-27 07:26:19,817 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: NodeDeleted with state:SyncConnected for path:/2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: TERMINATED for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:19,818 WARN  ha.ActiveStandbyElector (ActiveStandbyElector.java:isStaleClient(1006)) - Ignoring stale result from old client with sessionId 0x150a90c7e320000
2015-10-27 07:26:19,818 INFO  zookeeper.ClientCnxn (ClientCnxn.java:run(512)) - EventThread shut down
2015-10-27 07:26:19,820 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(409)) - CreateNode result: 0 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: TERMINATED  for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:19,820 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:fenceOldActive(877)) - Checking for any old active which needs to be fenced...
2015-10-27 07:26:19,822 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:fenceOldActive(898)) - Old node exists: 00000000
2015-10-27 07:26:19,824 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:writeBreadCrumbNode(824)) - Writing znode /2692a353-9731-4ff3-9540-1b6daa570068/ActiveBreadCrumb to indicate that the local node is the most recent active...
2015-10-27 07:26:19,827 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:becomeActive(804)) - Becoming active for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:19,829 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:monitorActiveStatus(649)) - Monitoring active leader for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:19,831 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(471)) - StatNode result: 0 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: TERMINATED for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:19,870 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:joinElection(259)) - Attempting active election for elector id=1672306158 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:19,871 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:reEstablishSession(740)) - Establishing zookeeper connection for elector id=1672306158 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:19,871 INFO  zookeeper.ZooKeeper (ZooKeeper.java:<init>(438)) - Initiating client connection, connectString=127.0.0.1:11224 sessionTimeout=5000 watcher=org.apache.hadoop.ha.ActiveStandbyElector$WatcherWithClientRef@7535cf21
2015-10-27 07:26:19,872 INFO  zookeeper.ClientCnxn (ClientCnxn.java:logStartConnect(975)) - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-10-27 07:26:19,872 INFO  zookeeper.ClientCnxn (ClientCnxn.java:primeConnection(852)) - Socket connection established to 127.0.0.1/127.0.0.1:11224, initiating session
2015-10-27 07:26:19,872 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54366
2015-10-27 07:26:19,873 INFO  server.ZooKeeperServer (ZooKeeperServer.java:processConnectRequest(868)) - Client attempting to establish new session at /127.0.0.1:54366
2015-10-27 07:26:19,874 INFO  server.ZooKeeperServer (ZooKeeperServer.java:finishSessionInit(617)) - Established session 0x150a90c7e320002 with negotiated timeout 6000 for client /127.0.0.1:54366
2015-10-27 07:26:19,874 INFO  zookeeper.ClientCnxn (ClientCnxn.java:onConnected(1235)) - Session establishment complete on server 127.0.0.1/127.0.0.1:11224, sessionid = 0x150a90c7e320002, negotiated timeout = 6000
2015-10-27 07:26:19,875 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:createConnection(768)) - Created new connection for elector id=1672306158 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:19,877 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:pRequest(645)) - Got user-level KeeperException when processing sessionid:0x150a90c7e320002 type:create cxid:0x1 zxid:0xb txntype:-1 reqpath:n/a Error Path:/2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock Error:KeeperErrorCode = NodeExists for /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock
2015-10-27 07:26:19,879 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: None with state:SyncConnected for path:null connectionState: TERMINATED for elector id=1672306158 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:19,879 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(547)) - Session connected.
2015-10-27 07:26:19,880 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(409)) - CreateNode result: -110 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: CONNECTED  for elector id=1672306158 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:19,881 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:becomeStandby(909)) - Becoming standby for elector id=1672306158 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:19,882 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:monitorActiveStatus(649)) - Monitoring active leader for elector id=1672306158 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:19,883 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(471)) - StatNode result: 0 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: CONNECTED for elector id=1672306158 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:19,892 INFO  server.ZooKeeperServer (ZooKeeperServer.java:closeSession(326)) - Closing session 0x150a90c7e320001
2015-10-27 07:26:19,893 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:pRequest2Txn(494)) - Processed session termination for sessionid: 0x150a90c7e320001
2015-10-27 07:26:19,895 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54365 which had sessionid 0x150a90c7e320001
2015-10-27 07:26:19,895 INFO  zookeeper.ClientCnxn (ClientCnxn.java:run(1098)) - Unable to read additional data from server sessionid 0x150a90c7e320001, likely server has closed socket, closing socket connection and attempting reconnect
2015-10-27 07:26:19,895 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: NodeDeleted with state:SyncConnected for path:/2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: CONNECTED for elector id=1672306158 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:19,897 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: NodeDeleted with state:SyncConnected for path:/2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: TERMINATED for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:19,898 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:enterNeutralMode(917)) - Entering neutral mode for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:19,899 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(409)) - CreateNode result: 0 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: CONNECTED  for elector id=1672306158 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:19,899 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:fenceOldActive(877)) - Checking for any old active which needs to be fenced...
2015-10-27 07:26:19,900 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:fenceOldActive(898)) - Old node exists: 00000001
2015-10-27 07:26:19,900 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:writeBreadCrumbNode(824)) - Writing znode /2692a353-9731-4ff3-9540-1b6daa570068/ActiveBreadCrumb to indicate that the local node is the most recent active...
2015-10-27 07:26:19,902 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:becomeActive(804)) - Becoming active for elector id=1672306158 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:19,903 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:monitorActiveStatus(649)) - Monitoring active leader for elector id=1672306158 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:19,905 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(471)) - StatNode result: 0 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: CONNECTED for elector id=1672306158 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:19,997 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(409)) - CreateNode result: -4 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: TERMINATED  for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:19,997 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(440)) - Received create error from Zookeeper. code:CONNECTIONLOSS for path /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock
2015-10-27 07:26:19,997 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(444)) - Retrying createNode createRetryCount: 0
2015-10-27 07:26:19,998 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: None with state:Disconnected for path:null connectionState: TERMINATED for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:19,998 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(558)) - Session disconnected. Entering neutral mode...
2015-10-27 07:26:20,957 INFO  zookeeper.ClientCnxn (ClientCnxn.java:logStartConnect(975)) - Opening socket connection to server 127.0.0.1/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2015-10-27 07:26:20,958 WARN  zookeeper.ClientCnxn (ClientCnxn.java:run(1102)) - Session 0x150a90c5c6b0001 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:361)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1081)
2015-10-27 07:26:21,001 INFO  server.SessionTrackerImpl (SessionTrackerImpl.java:run(162)) - SessionTrackerImpl exited loop!
2015-10-27 07:26:21,202 INFO  zookeeper.ClientCnxn (ClientCnxn.java:logStartConnect(975)) - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-10-27 07:26:21,202 INFO  zookeeper.ClientCnxn (ClientCnxn.java:primeConnection(852)) - Socket connection established to 127.0.0.1/127.0.0.1:11224, initiating session
2015-10-27 07:26:21,203 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54368
2015-10-27 07:26:21,203 INFO  server.ZooKeeperServer (ZooKeeperServer.java:processConnectRequest(861)) - Client attempting to renew session 0x150a90c7e320001 at /127.0.0.1:54368
2015-10-27 07:26:21,203 INFO  server.ZooKeeperServer (ZooKeeperServer.java:finishSessionInit(610)) - Invalid session 0x150a90c7e320001 for client /127.0.0.1:54368, probably expired
2015-10-27 07:26:21,204 INFO  zookeeper.ClientCnxn (ClientCnxn.java:run(1094)) - Unable to reconnect to ZooKeeper service, session 0x150a90c7e320001 has expired, closing socket connection
2015-10-27 07:26:21,204 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54368 which had sessionid 0x150a90c7e320001
2015-10-27 07:26:21,204 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: None with state:Expired for path:null connectionState: DISCONNECTED for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:21,204 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(568)) - Session expired. Entering neutral mode and rejoining...
2015-10-27 07:26:21,204 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:reJoinElection(670)) - Trying to re-establish ZK session
2015-10-27 07:26:21,205 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:terminateConnection(776)) - Terminating ZK connection for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:21,206 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:reEstablishSession(740)) - Establishing zookeeper connection for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:21,206 INFO  zookeeper.ZooKeeper (ZooKeeper.java:<init>(438)) - Initiating client connection, connectString=127.0.0.1:11224 sessionTimeout=5000 watcher=org.apache.hadoop.ha.ActiveStandbyElector$WatcherWithClientRef@2abeb8f0
2015-10-27 07:26:21,207 INFO  zookeeper.ClientCnxn (ClientCnxn.java:logStartConnect(975)) - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2015-10-27 07:26:21,207 INFO  zookeeper.ClientCnxn (ClientCnxn.java:primeConnection(852)) - Socket connection established to 127.0.0.1/127.0.0.1:11224, initiating session
2015-10-27 07:26:21,207 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(197)) - Accepted socket connection from /127.0.0.1:54369
2015-10-27 07:26:21,208 INFO  server.ZooKeeperServer (ZooKeeperServer.java:processConnectRequest(868)) - Client attempting to establish new session at /127.0.0.1:54369
2015-10-27 07:26:21,216 INFO  server.ZooKeeperServer (ZooKeeperServer.java:finishSessionInit(617)) - Established session 0x150a90c7e320003 with negotiated timeout 6000 for client /127.0.0.1:54369
2015-10-27 07:26:21,217 INFO  zookeeper.ClientCnxn (ClientCnxn.java:onConnected(1235)) - Session establishment complete on server 127.0.0.1/127.0.0.1:11224, sessionid = 0x150a90c7e320003, negotiated timeout = 6000
2015-10-27 07:26:21,217 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:createConnection(768)) - Created new connection for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:21,218 INFO  zookeeper.ClientCnxn (ClientCnxn.java:run(512)) - EventThread shut down
2015-10-27 07:26:21,219 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:pRequest(645)) - Got user-level KeeperException when processing sessionid:0x150a90c7e320003 type:create cxid:0x1 zxid:0x10 txntype:-1 reqpath:n/a Error Path:/2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock Error:KeeperErrorCode = NodeExists for /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock
2015-10-27 07:26:21,219 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: None with state:SyncConnected for path:null connectionState: TERMINATED for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:21,219 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(547)) - Session connected.
2015-10-27 07:26:21,220 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(409)) - CreateNode result: -110 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: CONNECTED  for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:21,220 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:becomeStandby(909)) - Becoming standby for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:21,221 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:monitorActiveStatus(649)) - Monitoring active leader for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:21,223 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(471)) - StatNode result: 0 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: CONNECTED for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:21,231 INFO  server.ZooKeeperServer (ZooKeeperServer.java:closeSession(326)) - Closing session 0x150a90c7e320002
2015-10-27 07:26:21,232 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:pRequest2Txn(494)) - Processed session termination for sessionid: 0x150a90c7e320002
2015-10-27 07:26:21,233 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54366 which had sessionid 0x150a90c7e320002
2015-10-27 07:26:21,233 INFO  zookeeper.ClientCnxn (ClientCnxn.java:run(1098)) - Unable to read additional data from server sessionid 0x150a90c7e320002, likely server has closed socket, closing socket connection and attempting reconnect
2015-10-27 07:26:21,234 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: NodeDeleted with state:SyncConnected for path:/2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: CONNECTED for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:21,234 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processWatchEvent(538)) - Watcher event type: NodeDeleted with state:SyncConnected for path:/2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: CONNECTED for elector id=1672306158 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:21,235 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:enterNeutralMode(917)) - Entering neutral mode for elector id=1672306158 appData=00000000 cb=Mock for ActiveStandbyElectorCallback, hashCode: 183625570
2015-10-27 07:26:21,236 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(409)) - CreateNode result: 0 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: CONNECTED  for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:21,236 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:fenceOldActive(877)) - Checking for any old active which needs to be fenced...
2015-10-27 07:26:21,238 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:fenceOldActive(898)) - Old node exists: 00000000
2015-10-27 07:26:21,238 INFO  ha.ActiveStandbyElector (ActiveStandbyElector.java:writeBreadCrumbNode(824)) - Writing znode /2692a353-9731-4ff3-9540-1b6daa570068/ActiveBreadCrumb to indicate that the local node is the most recent active...
2015-10-27 07:26:21,240 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:becomeActive(804)) - Becoming active for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:21,241 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:monitorActiveStatus(649)) - Monitoring active leader for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:21,242 DEBUG ha.ActiveStandbyElector (ActiveStandbyElector.java:processResult(471)) - StatNode result: 0 for path: /2692a353-9731-4ff3-9540-1b6daa570068/ActiveStandbyElectorLock connectionState: CONNECTED for elector id=1700989925 appData=00000001 cb=Mock for ActiveStandbyElectorCallback, hashCode: 1235360611
2015-10-27 07:26:21,286 INFO  zookeeper.JUnit4ZKTestRunner (JUnit4ZKTestRunner.java:evaluate(55)) - Memory used 12537
2015-10-27 07:26:21,286 INFO  zookeeper.JUnit4ZKTestRunner (JUnit4ZKTestRunner.java:evaluate(60)) - Number of threads 20
2015-10-27 07:26:21,286 INFO  zookeeper.JUnit4ZKTestRunner (JUnit4ZKTestRunner.java:evaluate(65)) - FINISHED TEST METHOD testActiveStandbyTransition
2015-10-27 07:26:21,286 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:tearDown(470)) - tearDown starting
2015-10-27 07:26:21,286 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:stopServer(442)) - STOPPING server
2015-10-27 07:26:21,287 INFO  server.NIOServerCnxn (NIOServerCnxn.java:closeSock(1007)) - Closed socket connection for client /127.0.0.1:54369 which had sessionid 0x150a90c7e320003
2015-10-27 07:26:21,287 INFO  zookeeper.ClientCnxn (ClientCnxn.java:run(1098)) - Unable to read additional data from server sessionid 0x150a90c7e320003, likely server has closed socket, closing socket connection and attempting reconnect
2015-10-27 07:26:21,287 INFO  server.NIOServerCnxnFactory (NIOServerCnxnFactory.java:run(224)) - NIOServerCnxn factory exited run method
2015-10-27 07:26:21,288 INFO  server.ZooKeeperServer (ZooKeeperServer.java:shutdown(441)) - shutting down
2015-10-27 07:26:21,288 INFO  server.SessionTrackerImpl (SessionTrackerImpl.java:shutdown(225)) - Shutting down
2015-10-27 07:26:21,288 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:shutdown(761)) - Shutting down
2015-10-27 07:26:21,288 INFO  server.SyncRequestProcessor (SyncRequestProcessor.java:shutdown(209)) - Shutting down
2015-10-27 07:26:21,288 INFO  server.PrepRequestProcessor (PrepRequestProcessor.java:run(143)) - PrepRequestProcessor exited loop!
2015-10-27 07:26:21,288 INFO  server.SyncRequestProcessor (SyncRequestProcessor.java:run(187)) - SyncRequestProcessor exited!
2015-10-27 07:26:21,289 INFO  server.FinalRequestProcessor (FinalRequestProcessor.java:shutdown(415)) - shutdown of request processor complete
2015-10-27 07:26:21,290 INFO  ha.ClientBaseWithFixes (ClientBaseWithFixes.java:send4LetterWord(234)) - connecting to 127.0.0.1 11224
2015-10-27 07:26:21,291 INFO  zookeeper.ZKTestCase (ZKTestCase.java:succeeded(60)) - SUCCEEDED testActiveStandbyTransition
2015-10-27 07:26:21,291 INFO  zookeeper.ZKTestCase (ZKTestCase.java:finished(55)) - FINISHED testActiveStandbyTransition
