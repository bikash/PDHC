====> TEST TIMED OUT. PRINTING THREAD DUMP. <====

Timestamp: 2015-10-27 07:43:01,635

"MThread-1" daemon prio=5 tid=9 blocked
java.lang.Thread.State: BLOCKED
        at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.goMonitorDeadlock(TestTimedOutTestsListener.java:132)
        at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.monitorLock(TestTimedOutTestsListener.java:122)
        at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.run(TestTimedOutTestsListener.java:90)
"MThread-3" daemon prio=5 tid=11 blocked
java.lang.Thread.State: BLOCKED
        at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.goMonitorDeadlock(TestTimedOutTestsListener.java:132)
        at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.monitorLock(TestTimedOutTestsListener.java:122)
        at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.run(TestTimedOutTestsListener.java:90)
"Reference Handler" daemon prio=10 tid=2 in Object.wait()
java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        at java.lang.Object.wait(Object.java:503)
        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:133)
"Finalizer" daemon prio=8 tid=3 in Object.wait()
java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:135)
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:151)
        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)
"SThread-6" daemon prio=5 tid=14 in Object.wait()
java.lang.Thread.State: WAITING (on object monitor)
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:867)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1197)
        at java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:214)
        at java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:290)
        at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.goSyncDeadlock(TestTimedOutTestsListener.java:112)
        at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.syncLock(TestTimedOutTestsListener.java:101)
        at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.run(TestTimedOutTestsListener.java:88)
"SThread-5" daemon prio=5 tid=13 in Object.wait()
java.lang.Thread.State: WAITING (on object monitor)
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:867)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1197)
        at java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:214)
        at java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:290)
        at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.goSyncDeadlock(TestTimedOutTestsListener.java:112)
        at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.syncLock(TestTimedOutTestsListener.java:101)
        at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.run(TestTimedOutTestsListener.java:88)
"SThread-4" daemon prio=5 tid=12 in Object.wait()
java.lang.Thread.State: WAITING (on object monitor)
        at sun.misc.Unsafe.park(Native Method)
        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:867)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1197)
        at java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:214)
        at java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:290)
        at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.goSyncDeadlock(TestTimedOutTestsListener.java:112)
        at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.syncLock(TestTimedOutTestsListener.java:101)
        at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.run(TestTimedOutTestsListener.java:88)
"Thread-0"  prio=5 tid=8 runnable
java.lang.Thread.State: RUNNABLE
        at java.lang.Thread.dumpThreads(Native Method)
        at java.lang.Thread.getAllStackTraces(Thread.java:1640)
        at org.apache.hadoop.test.TimedOutTestsListener.buildThreadDump(TimedOutTestsListener.java:86)
        at org.apache.hadoop.test.TimedOutTestsListener.buildThreadDiagnosticString(TimedOutTestsListener.java:72)
        at org.apache.hadoop.test.TimedOutTestsListener.testFailure(TimedOutTestsListener.java:61)
        at org.apache.hadoop.test.TestTimedOutTestsListener.testThreadDumpAndDeadlocks(TestTimedOutTestsListener.java:163)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:606)
        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
        at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
"main"  prio=5 tid=1 timed_waiting
java.lang.Thread.State: TIMED_WAITING
        at java.lang.Object.wait(Native Method)
        at java.lang.Thread.join(Thread.java:1289)
        at org.junit.internal.runners.statements.FailOnTimeout.evaluateStatement(FailOnTimeout.java:26)
        at org.junit.internal.runners.statements.FailOnTimeout.evaluate(FailOnTimeout.java:17)
        at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
        at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
        at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
"Signal Dispatcher" daemon prio=9 tid=4 runnable
java.lang.Thread.State: RUNNABLE
"MThread-2" daemon prio=5 tid=10 blocked
java.lang.Thread.State: BLOCKED
        at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.goMonitorDeadlock(TestTimedOutTestsListener.java:132)
        at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.monitorLock(TestTimedOutTestsListener.java:122)
        at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.run(TestTimedOutTestsListener.java:90)

====> DEADLOCKS DETECTED <====

"MThread-3" Id=11 in BLOCKED on lock=org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$Monitor@73131d98
     owned by MThread-1 Id=9
    at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.goMonitorDeadlock(TestTimedOutTestsListener.java:132)
    at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.monitorLock(TestTimedOutTestsListener.java:122)
      - locked org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$Monitor@48e5707f
    at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.run(TestTimedOutTestsListener.java:90)

    Locked synchronizers: count = 0


"MThread-1" Id=9 in BLOCKED on lock=org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$Monitor@6bfc212d
     owned by MThread-2 Id=10
    at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.goMonitorDeadlock(TestTimedOutTestsListener.java:132)
    at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.monitorLock(TestTimedOutTestsListener.java:122)
      - locked org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$Monitor@73131d98
    at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.run(TestTimedOutTestsListener.java:90)

    Locked synchronizers: count = 0


"MThread-2" Id=10 in BLOCKED on lock=org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$Monitor@48e5707f
     owned by MThread-3 Id=11
    at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.goMonitorDeadlock(TestTimedOutTestsListener.java:132)
    at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.monitorLock(TestTimedOutTestsListener.java:122)
      - locked org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$Monitor@6bfc212d
    at org.apache.hadoop.test.TestTimedOutTestsListener$Deadlock$DeadlockThread.run(TestTimedOutTestsListener.java:90)

    Locked synchronizers: count = 0




